{"version":3,"sources":["app.js","scroll-trigger.js"],"names":["$","click","$title","this","$item","parent","$content","next","toggleClass","slideToggle","jQuery","window","document","root","factory","define","amd","module","exports","ScrollTrigger","defaultOptions","bindTo","scrollIn","Trigger","_defaultOptions","_element","element","showCallback","hideCallback","visibleClass","hiddenClass","addWidth","addHeight","once","_this","xOffset","yOffset","left","getBoundingClientRect","top","goingLeft","offset","width","goingUp","height","offsetWidth","offsetHeight","reset","removeClass","addClass","classList","className","didAddCallback","contains","add","trim","regEx","RegExp","oldClassName","test","didRemoveCallback","remove","replace","init","options","optionString","getAttribute","toggle","visible","hidden","centerHorizontal","centerVertical","x","y","parsedAddWidth","indexOf","parsedAddHeight","parsedOnce","hasAttribute","classParts","split","length","classes","String","prototype","offsetParts","offsets","parseInt","scrollElement","bindElement","body","callScope","triggers","attached","previousScroll","loop","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","isLooping","undefined","bind","querySelectorAll","elements","HTMLElement","newTriggers","slice","call","map","index","concat","update","triggerFor","htmlElement","returnTrigger","each","trigger","destroy","splice","destroyAll","resetAll","attach","push","detach","currentTop","scrollTop","documentElement","currentLeft","scrollLeft","scrollDidChange","functionCall","functionAsString","params","method","param","str","substr","removeQuotes","apply","e","windowWidth","innerWidth","windowHeight","innerHeight","onceTriggers","triggerLeft","triggerTop","Array","a","l","i"],"mappings":"CAAA,SAAAA,GAEAA,EAAA,oBAAAC,MAAA,WACA,IAAAC,EAAAF,EAAAG,MACAC,EAAAF,EAAAG,OAAA,mBACAC,EAAAJ,EAAAK,KAAA,sBAEAH,EAAAI,YAAA,UACAF,EAAAG,YAAA,OARA,CAaAC,OAAAC,OAAAC,UCHA,SAAAC,EAAAC,GACA,mBAAAC,QAAAA,OAAAC,IAEAD,OAAA,GAAAD,GACA,iBAAAG,QAAAA,OAAAC,QAIAD,OAAAC,QAAAJ,IAGAD,EAAAM,cAAAL,IAXA,CAaAX,KAAA,WAEA,aAEA,OAAA,SAAAiB,EAAAC,EAAAC,GAKA,SAAAC,EAAAC,EAAAC,GACAtB,KAAAuB,QAAAD,EACAtB,KAAAiB,eAAAI,EACArB,KAAAwB,aAAA,KACAxB,KAAAyB,aAAA,KACAzB,KAAA0B,aAAA,UACA1B,KAAA2B,YAAA,YACA3B,KAAA4B,UAAA,EACA5B,KAAA6B,WAAA,EACA7B,KAAA8B,MAAA,EAEA,IAGAC,EAMAA,EAMAA,EAiBAA,EAiBAA,EAMAA,EAMAA,EAOAA,EAyBAA,EAyBAA,EAtHAC,EAAA,EACAC,EAAA,EAEAjC,KAAAkC,MAAAH,EAIA/B,KAHA,WACA,OAAA+B,EAAAR,QAAAY,wBAAAD,OAIAlC,KAAAoC,KAAAL,EAIA/B,KAHA,WACA,OAAA+B,EAAAR,QAAAY,wBAAAC,MAIApC,KAAAgC,SAAAD,EAeA/B,KAdA,SAAAqC,GACA,IAAAC,EAAAN,EAWA,OANAD,EAAAH,WAAAS,EACAC,GAAAP,EAAAQ,QACAF,IAAAN,EAAAH,WACAU,GAAAP,EAAAQ,SAGAD,IAIAtC,KAAAiC,SAAAF,EAeA/B,KAdA,SAAAwC,GACA,IAAAF,EAAAL,EAWA,OANAF,EAAAF,YAAAW,EACAF,GAAAP,EAAAU,SACAD,IAAAT,EAAAF,YACAS,GAAAP,EAAAU,UAGAH,IAIAtC,KAAAuC,OAAAR,EAIA/B,KAHA,WACA,OAAA+B,EAAAR,QAAAmB,cAIA1C,KAAAyC,QAAAV,EAIA/B,KAHA,WACA,OAAA+B,EAAAR,QAAAoB,eAIA3C,KAAA4C,OAAAb,EAKA/B,KAJA,WACA+B,EAAAc,YAAAd,EAAAL,cACAK,EAAAc,YAAAd,EAAAJ,eAIA3B,KAAA8C,UAAAf,EAuBA/B,MADAuB,QAAAwB,UArBA,SAAAC,EAAAC,GACAlB,EAAAR,QAAAwB,UAAAG,SAAAF,KACAjB,EAAAR,QAAAwB,UAAAI,IAAAH,GACA,mBAAAC,GACAA,MAKA,SAAAD,EAAAC,GACAD,EAAAA,EAAAI,OACA,IAAAC,EAAA,IAAAC,OAAA,YAAAN,EAAA,iBAAA,MACAO,EAAAxB,EAAAR,QAAAyB,UACAK,EAAAG,KAAAD,KACAxB,EAAAR,QAAAyB,WAAA,IAAAA,EACA,mBAAAC,GACAA,MAQAjD,KAAA6C,aAAAd,EAuBA/B,MADAuB,QAAAwB,UArBA,SAAAC,EAAAS,GACA1B,EAAAR,QAAAwB,UAAAG,SAAAF,KACAjB,EAAAR,QAAAwB,UAAAW,OAAAV,GACA,mBAAAS,GACAA,MAKA,SAAAT,EAAAS,GACAT,EAAAA,EAAAI,OACA,IAAAC,EAAA,IAAAC,OAAA,YAAAN,EAAA,iBAAA,MACAO,EAAAxB,EAAAR,QAAAyB,UACAK,EAAAG,KAAAD,KACAxB,EAAAR,QAAAyB,UAAAO,EAAAI,QAAAN,EAAA,MAAAD,OACA,mBAAAK,GACAA,MAQAzD,KAAA4D,MAAA7B,EAuHA/B,KAtHA,WAEA,IAAA6D,EAAA9B,EAAAd,eAEA6C,EAAA/B,EAAAR,QAAAwC,aAAA,eAEAF,IACAA,EAAAG,QAAAH,EAAAG,OAAAC,UACAlC,EAAAL,aAAAmC,EAAAG,OAAAC,SAGAJ,EAAAG,QAAAH,EAAAG,OAAAE,SACAnC,EAAAJ,YAAAkC,EAAAG,OAAAE,QAGAL,EAAArC,eACAO,EAAAP,aAAAqC,EAAArC,cAGAqC,EAAApC,eACAM,EAAAN,aAAAoC,EAAApC,eAGA,IAAAoC,EAAAM,mBACAnC,EAAAD,EAAAR,QAAAmB,YAAA,IAGA,IAAAmB,EAAAO,iBACAnC,EAAAF,EAAAR,QAAAoB,aAAA,GAGAkB,EAAAvB,QAAAuB,EAAAvB,OAAA+B,IACArC,GAAA6B,EAAAvB,OAAA+B,GAGAR,EAAAvB,QAAAuB,EAAAvB,OAAAgC,IACArC,GAAA4B,EAAAvB,OAAAgC,GAGAT,EAAAjC,WACAG,EAAAH,SAAAiC,EAAAjC,UAGAiC,EAAAhC,YACAE,EAAAF,UAAAgC,EAAAhC,WAGAgC,EAAA/B,OACAC,EAAAD,KAAA+B,EAAA/B,OAKA,IAAAyC,GAAA,EAAAT,EAAAU,QAAA,YACAC,GAAA,EAAAX,EAAAU,QAAA,aACAE,GAAA,EAAAZ,EAAAU,QAAA,SAGA,IAAAzC,EAAAH,UAAA,GAAA2C,IACAxC,EAAAH,SAAA2C,IAGA,IAAAxC,EAAAF,WAAA,GAAA4C,IACA1C,EAAAF,UAAA4C,IAGA,IAAA1C,EAAAD,MAAA,GAAA4C,IACA3C,EAAAD,KAAA4C,GAIA3C,EAAAP,aAAAO,EAAAR,QAAAoD,aAAA,4BAAA5C,EAAAR,QAAAwC,aAAA,4BAAAhC,EAAAP,aACAO,EAAAN,aAAAM,EAAAR,QAAAoD,aAAA,4BAAA5C,EAAAR,QAAAwC,aAAA,4BAAAhC,EAAAN,aAGA,IAAAmD,EAAAd,EAAAe,MAAA,WACA,GAAA,EAAAD,EAAAE,OAAA,CAGA,IAAAC,EAAAH,EAAA,GAAAC,MAAA,KAAA,GAAAA,MAAA,KAIAG,OAAAC,UAAA7B,OACA4B,OAAAC,UAAA7B,KAAA,WACA,OAAApD,KAAA2D,QAAA,qCAAA,MAKA5B,EAAAL,aAAAqD,EAAA,GAAA3B,OAAAO,QAAA,IAAA,IACA5B,EAAAJ,YAAAoD,EAAA,GAAA3B,OAAAO,QAAA,IAAA,KAIA,EAAAG,EAAAU,QAAA,sBACAxC,EAAAD,EAAAR,QAAAmB,YAAA,IAGA,EAAAoB,EAAAU,QAAA,oBACAvC,EAAAF,EAAAR,QAAAoB,aAAA,GAIA,IAAAuC,EAAApB,EAAAe,MAAA,WACA,GAAA,EAAAK,EAAAJ,OAAA,CAGA,IAAAK,EAAAD,EAAA,GAAAL,MAAA,KAAA,GAAAA,MAAA,KAGA7C,GAAAoD,SAAAD,EAAA,GAAAxB,QAAA,KAAA,KACA1B,GAAAmD,SAAAD,EAAA,GAAAxB,QAAA,KAAA,KAIA,OAAA5B,IAMA/B,KAAAqF,cAAA7E,OAGAR,KAAAsF,YAAA7E,SAAA8E,KAGAvF,KAAAwF,UAAAhF,OAGA,IA8BAuB,EA6BAA,EA0DAA,EAgBAA,EAaAA,EAsBAA,EAiBAA,EAqBAA,EA9MA0D,EAAA,GAKAC,EAAA,GAKAC,EAAA,CACAzD,MAAA,EACAE,KAAA,GAIAwD,EAAApF,OAAAqF,uBACArF,OAAAsF,6BACAtF,OAAAuF,0BACAvF,OAAAwF,yBACAxF,OAAAyF,wBACA,SAAAC,GAAAC,WAAAD,EAAA,IAAA,KAGAE,GAAA,EAMAxC,GAAA7B,EAwBA/B,KAvBA,SAAAiB,EAAAC,EAAAC,GAqBA,OAjBAY,EAAAuD,YADAe,MAAAnF,GAAA,MAAAA,EACAA,EAEAT,SAAA8E,KAMAxD,EAAAsD,cADAgB,MAAAlF,GAAA,MAAAA,EACAA,EAEAX,OAIAuB,EAAAuE,KAAAvE,EAAAuD,YAAAiB,iBAAA,kBAGAxE,IAOA/B,KAAAsG,MAAAvE,EAoCA/B,KAnCA,SAAAwG,GAEAA,aAAAC,cAEAD,EAAA,CAAAA,IAMA,IAAAE,EAAA,GAAAC,MAAAC,KAAAJ,GAuBA,OAnBAE,EAAAA,EAAAG,IAAA,SAAAtF,EAAAuF,GAGA,OAFA,IAAA1F,EAAAH,EAAAM,GAEAqC,SAMA,GAFA6B,EAAAA,EAAAsB,OAAAL,IAEA5B,QAAA,GAAAsB,GACAA,GAAA,EAGAY,KAEAZ,GAAA,EAIArE,IAOA/B,KAAAiH,WACA,SAAAC,GACA,IAAAC,EAAA,KAQA,OANA1B,EAAA2B,KAAA,SAAAC,EAAAP,GACAO,EAAA9F,SAAA2F,IACAC,EAAAE,KAIAF,GAOAnH,KAAAsH,SAAAvF,EAWA/B,KAVA,SAAAkH,GAQA,OAPAzB,EAAA2B,KAAA,SAAAC,EAAAP,GACAO,EAAA9F,SAAA2F,GACAzB,EAAA8B,OAAAT,EAAA,KAKA/E,IAOA/B,KAAAwH,YAAAzF,EAOA/B,KANA,WAIA,OAHAyF,EAAA,GAGA1D,IAQA/B,KAAA4C,OAAAb,EAiBA/B,KAhBA,SAAAkH,GACA,IAAAG,EAAAtF,EAAAkF,WAAAC,GAEA,GAAA,MAAAG,EAAA,CACAA,EAAAzE,QAEA,IAAAkE,EAAArB,EAAAjB,QAAA6C,IAEA,EAAAP,GACArB,EAAA8B,OAAAT,EAAA,GAKA,OAAA/E,IAOA/B,KAAAyH,UAAA1F,EAWA/B,KAVA,WAQA,OAPAyF,EAAA2B,KAAA,SAAAC,EAAAP,GACAO,EAAAzE,UAGA6C,EAAA,GAGA1D,IAQA/B,KAAA0H,QAAA3F,EAeA/B,KAdA,SAAAkG,GAYA,OAVAR,EAAAiC,KAAAzB,GAEAE,IACAA,GAAA,EAGAY,KAIAjF,IAQA/B,KAAA4H,QAAA7F,EAWA/B,KAVA,SAAAkG,GAEA,IAAAY,EAAApB,EAAAlB,QAAA0B,GAMA,OAJA,EAAAY,GACApB,EAAA6B,OAAAT,EAAA,GAGA/E,IAMA,IA2BAA,EA3BAA,EAAA/B,KAOA,SAAAgH,IAEA,IAAAa,EAAA9F,EAAAuD,YAAAwC,UAAA/F,EAAAuD,YAAAwC,UAAArH,SAAAsH,gBAAAD,UACAE,EAAAjG,EAAAuD,YAAA2C,WAAAlG,EAAAuD,YAAA2C,WAAAxH,SAAAsH,gBAAAE,WAGAtC,EAAAzD,MAAA8F,GAAArC,EAAAvD,KAAAyF,GACA9F,EAAAmG,kBAGA,EAAAzC,EAAAX,QAAA,EAAAY,EAAAZ,QACAsB,GAAA,EAGAR,EAAAoB,IAEAZ,GAAA,EAmFA,SAAA+B,EAAAd,EAAAe,GACA,IAAAC,EAAAD,EAAAvD,MAAA,KACAyD,EAAAD,EAAA,GA2BA,GAJAA,GAhBAA,EALA,EAAAA,EAAAvD,QAIA,GAHAuD,EAAAA,EAAA,GAAAxD,MAAA,KAAA,IAGAL,QAAA,QACA6D,EAAAxD,MAAA,SACA,EAAAwD,EAAA7D,QAAA,OACA6D,EAAAxD,MAAA,QACA,EAAAwD,EAAA7D,QAAA,QACA6D,EAAAxD,MAAA,SACA,EAAAwD,EAAA7D,QAAA,OACA6D,EAAAxD,MAAA,OAGA,CAAAwD,GAGA,IAIAxB,IAAA,SAAA0B,GACA,OAqBA,SAAAC,GAGA,MAFAA,GAAA,IAEA,KACAA,EAAAA,EAAAC,OAAA,IAGA,KAAAD,EAAA,KACAA,EAAAA,EAAAC,OAAA,IAGA,KAAAD,EAAAA,EAAA1D,OAAA,KACA0D,EAAAA,EAAAC,OAAA,EAAAD,EAAA1D,OAAA,IAGA,KAAA0D,EAAAA,EAAA1D,OAAA,KACA0D,EAAAA,EAAAC,OAAA,EAAAD,EAAA1D,OAAA,IAGA,OAAA0D,EAxCAE,CAAAH,KAGA,mBAAAxG,EAAAyD,UAAA8C,GAGA,IACAvG,EAAAyD,UAAA8C,GAAAK,MAAAtB,EAAA9F,QAAA8G,GACA,MAAAO,GAEA,IACA7G,EAAAyD,UAAA8C,GAAAK,MAAA,KAAAN,GACA,MAAAO,MA2CA,OAhKA5I,KAAAkI,iBAAAnG,EA6EA/B,KA5EA,WACA,IAAA6I,EAAA9G,EAAAsD,cAAAyD,YAAA/G,EAAAsD,cAAA3C,YACAqG,EAAAhH,EAAAsD,cAAA2D,aAAAjH,EAAAsD,cAAA1C,aAGAkF,EAAA9F,EAAAuD,YAAAwC,UAAA/F,EAAAuD,YAAAwC,UAAArH,SAAAsH,gBAAAD,UACAE,EAAAjG,EAAAuD,YAAA2C,WAAAlG,EAAAuD,YAAA2C,WAAAxH,SAAAsH,gBAAAE,WAEAgB,EAAA,GAGAxD,EAAA2B,KAAA,SAAAC,EAAAP,GACA,IAAAoC,EAAA7B,EAAAnF,OACAiH,EAAA9B,EAAAjF,MAEAuD,EAAAzD,KAAA8F,EAEAkB,GAAA7B,EAAArF,SAAA,GACA2D,EAAAzD,KAAA8F,IAEAkB,GAAA7B,EAAArF,SAAA,IAGA2D,EAAAvD,IAAAyF,EAEAsB,GAAA9B,EAAApF,SAAA,GACA0D,EAAAvD,IAAAyF,IAEAsB,GAAA9B,EAAApF,SAAA,IAIAiH,EAAAL,GAAA,GAAAK,GACAC,EAAAJ,GAAA,GAAAI,GAEA9B,EAAAvE,SAAAuE,EAAA3F,aAAA,WACA2F,EAAA7F,cACA2G,EAAAd,EAAAA,EAAA7F,gBAIA6F,EAAAxE,YAAAwE,EAAA1F,aAEA0F,EAAAvF,MAEAmH,EAAAtB,KAAAN,KAIAA,EAAAvE,SAAAuE,EAAA1F,aACA0F,EAAAxE,YAAAwE,EAAA3F,aAAA,WACA2F,EAAA5F,cACA0G,EAAAd,EAAAA,EAAA5F,mBAOAiE,EAAA0B,KAAA,SAAAlB,GACAA,EAAAU,KAAA7E,EAAAiG,EAAAH,EAAAgB,EAAAE,KAIAE,EAAA7B,KAAA,SAAAC,GACA,IAAAP,EAAArB,EAAAjB,QAAA6C,IAEA,EAAAP,GACArB,EAAA8B,OAAAT,EAAA,KAKAnB,EAAAzD,KAAA8F,EACArC,EAAAvD,IAAAyF,IA0EAuB,MAAAnE,UAAAmC,KAAA,SAAAiC,GAEA,IADA,IAAAC,EAAAtJ,KAAA8E,OACAyE,EAAA,EAAAA,EAAAD,EAAAC,IAAA,CACA,IAAAX,EAAA5I,KAAAuJ,GAEAX,GACAS,EAAAT,EAAAW,KAKA3F,EAAA3C,EAAAC,EAAAC","file":"app.min.js","sourcesContent":["(function($, window, document) {\r\n\r\n    $('.accordion-title').click(function() {\r\n        var $title = $(this);\r\n        var $item = $title.parent('.accordion-item');\r\n        var $content = $title.next('.accordion-content');\r\n\r\n        $item.toggleClass('active');\r\n        $content.slideToggle(300);\r\n    });\r\n\r\n    // new ScrollTrigger();\r\n\r\n})(jQuery, window, document);\r\n","/**\r\n * Written by Erik Terwan on 03/07/16.\r\n *\r\n * Erik Terwan - development + design\r\n * https://erikterwan.com\r\n * https://github.com/terwanerik\r\n *\r\n * MIT license.\r\n */\r\n\r\n(function (root, factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t// AMD. Register as an anonymous module.\r\n\t\tdefine([], factory);\r\n\t} else if (typeof module === 'object' && module.exports) {\r\n\t\t// Node. Does not work with strict CommonJS, but\r\n\t\t// only CommonJS-like environments that support module.exports,\r\n\t\t// like Node.\r\n\t\tmodule.exports = factory();\r\n\t} else {\r\n\t\t// Browser globals (root is window)\r\n\t\troot.ScrollTrigger = factory();\r\n\t}\r\n}(this, function () {\r\n\r\n\t'use strict';\r\n\r\n\treturn function(defaultOptions, bindTo, scrollIn) {\r\n\t\t/**\r\n\t\t * Trigger object, represents a single html element with the\r\n\t\t * data-scroll tag. Stores the options given in that tag.\r\n\t\t */\r\n\t\tvar Trigger = function(_defaultOptions, _element) {\r\n\t\t\tthis.element = _element;\r\n\t\t\tthis.defaultOptions = _defaultOptions;\r\n\t\t\tthis.showCallback = null;\r\n\t\t\tthis.hideCallback = null;\r\n\t\t\tthis.visibleClass = 'visible';\r\n\t\t\tthis.hiddenClass = 'invisible';\r\n\t\t\tthis.addWidth = false;\r\n\t\t\tthis.addHeight = false;\r\n\t\t\tthis.once = false;\r\n\r\n\t\t\tvar xOffset = 0;\r\n\t\t\tvar yOffset = 0;\r\n\r\n\t\t\tthis.left = function(_this){\r\n\t\t\t\treturn function(){\r\n\t\t\t\t\treturn _this.element.getBoundingClientRect().left;\r\n\t\t\t\t};\r\n\t\t\t}(this);\r\n\r\n\t\t\tthis.top = function(_this){\r\n\t\t\t\treturn function(){\r\n\t\t\t\t\treturn _this.element.getBoundingClientRect().top;\r\n\t\t\t\t};\r\n\t\t\t}(this);\r\n\r\n\t\t\tthis.xOffset = function(_this){\r\n\t\t\t\treturn function(goingLeft){\r\n\t\t\t\t\tvar offset = xOffset;\r\n\r\n\t\t\t\t\t// add the full width of the element to the left position, so the\r\n\t\t\t\t\t// visibleClass is only added after the element is completely\r\n\t\t\t\t\t// in the viewport\r\n\t\t\t\t\tif (_this.addWidth && !goingLeft) {\r\n\t\t\t\t\t\toffset += _this.width();\r\n\t\t\t\t\t} else if (goingLeft && !_this.addWidth) {\r\n\t\t\t\t\t\toffset -= _this.width();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn offset;\r\n\t\t\t\t};\r\n\t\t\t}(this);\r\n\r\n\t\t\tthis.yOffset = function(_this){\r\n\t\t\t\treturn function(goingUp){\r\n\t\t\t\t\tvar offset = yOffset;\r\n\r\n\t\t\t\t\t// add the full height of the element to the top position, so the\r\n\t\t\t\t\t// visibleClass is only added after the element is completely\r\n\t\t\t\t\t// in the viewport\r\n\t\t\t\t\tif (_this.addHeight && !goingUp) {\r\n\t\t\t\t\t\toffset += _this.height();\r\n\t\t\t\t\t} else if (goingUp && !_this.addHeight) {\r\n\t\t\t\t\t\toffset -= _this.height();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn offset;\r\n\t\t\t\t};\r\n\t\t\t}(this);\r\n\r\n\t\t\tthis.width = function(_this) {\r\n\t\t\t\treturn function(){\r\n\t\t\t\t\treturn _this.element.offsetWidth;\r\n\t\t\t\t};\r\n\t\t\t}(this);\r\n\r\n\t\t\tthis.height = function(_this) {\r\n\t\t\t\treturn function(){\r\n\t\t\t\t\treturn _this.element.offsetHeight;\r\n\t\t\t\t};\r\n\t\t\t}(this);\r\n\r\n\t\t\tthis.reset = function(_this) {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\t_this.removeClass(_this.visibleClass);\r\n\t\t\t\t\t_this.removeClass(_this.hiddenClass);\r\n\t\t\t\t};\r\n\t\t\t}(this);\r\n\r\n\t\t\tthis.addClass = function(_this){\r\n\t\t\t\tvar addClass = function(className, didAddCallback) {\r\n\t\t\t\t\tif (!_this.element.classList.contains(className)) {\r\n\t\t\t\t\t\t_this.element.classList.add(className);\r\n\t\t\t\t\t\tif ( typeof didAddCallback === 'function' ) {\r\n\t\t\t\t\t\t\tdidAddCallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar retroAddClass = function(className, didAddCallback) {\r\n\t\t\t\t\tclassName = className.trim();\r\n\t\t\t\t\tvar regEx = new RegExp('(?:^|\\\\s)' + className + '(?:(\\\\s\\\\w)|$)', 'ig');\r\n\t\t\t\t\tvar oldClassName = _this.element.className;\r\n\t\t\t\t\tif ( !regEx.test(oldClassName) ) {\r\n\t\t\t\t\t\t_this.element.className += \" \" + className;\r\n\t\t\t\t\t\tif ( typeof didAddCallback === 'function' ) {\r\n\t\t\t\t\t\t\tdidAddCallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn _this.element.classList ? addClass : retroAddClass;\r\n\t\t\t}(this);\r\n\r\n\t\t\tthis.removeClass = function(_this){\r\n\t\t\t\tvar removeClass = function(className, didRemoveCallback) {\r\n\t\t\t\t\tif (_this.element.classList.contains(className)) {\r\n\t\t\t\t\t\t_this.element.classList.remove(className);\r\n\t\t\t\t\t\tif ( typeof didRemoveCallback === 'function' ) {\r\n\t\t\t\t\t\t\tdidRemoveCallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar retroRemoveClass = function(className, didRemoveCallback) {\r\n\t\t\t\t\tclassName = className.trim();\r\n\t\t\t\t\tvar regEx = new RegExp('(?:^|\\\\s)' + className + '(?:(\\\\s\\\\w)|$)', 'ig');\r\n\t\t\t\t\tvar oldClassName = _this.element.className;\r\n\t\t\t\t\tif ( regEx.test(oldClassName) ) {\r\n\t\t\t\t\t\t_this.element.className = oldClassName.replace(regEx, \"$1\").trim();\r\n\t\t\t\t\t\tif ( typeof didRemoveCallback === 'function' ) {\r\n\t\t\t\t\t\t\tdidRemoveCallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn _this.element.classList ? removeClass : retroRemoveClass;\r\n\t\t\t}(this);\r\n\r\n\t\t\tthis.init = function(_this){\r\n\t\t\t\treturn function(){\r\n\t\t\t\t\t// set the default options\r\n\t\t\t\t\tvar options = _this.defaultOptions;\r\n\t\t\t\t\t// parse the options given in the data-scroll attribute, if any\r\n\t\t\t\t\tvar optionString = _this.element.getAttribute('data-scroll');\r\n\r\n\t\t\t\t\tif (options) {\r\n\t\t\t\t\t\tif (options.toggle && options.toggle.visible) {\r\n\t\t\t\t\t\t\t_this.visibleClass = options.toggle.visible;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.toggle && options.toggle.hidden) {\r\n\t\t\t\t\t\t\t_this.hiddenClass = options.toggle.hidden;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.showCallback) {\r\n\t\t\t\t\t\t\t_this.showCallback = options.showCallback;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.hideCallback) {\r\n\t\t\t\t\t\t\t_this.hideCallback = options.hideCallback;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.centerHorizontal === true) {\r\n\t\t\t\t\t\t\txOffset = _this.element.offsetWidth / 2;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.centerVertical === true) {\r\n\t\t\t\t\t\t\tyOffset = _this.element.offsetHeight / 2;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.offset && options.offset.x) {\r\n\t\t\t\t\t\t\txOffset+= options.offset.x;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.offset && options.offset.y) {\r\n\t\t\t\t\t\t\tyOffset+= options.offset.y;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.addWidth) {\r\n\t\t\t\t\t\t\t_this.addWidth = options.addWidth;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.addHeight) {\r\n\t\t\t\t\t\t\t_this.addHeight = options.addHeight;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (options.once) {\r\n\t\t\t\t\t\t\t_this.once = options.once;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// parse the boolean options\r\n\t\t\t\t\tvar parsedAddWidth = optionString.indexOf(\"addWidth\") > -1;\r\n\t\t\t\t\tvar parsedAddHeight = optionString.indexOf(\"addHeight\") > -1;\r\n\t\t\t\t\tvar parsedOnce = optionString.indexOf(\"once\") > -1;\r\n\r\n\t\t\t\t\t// check if the 'addHeight' was toggled via the data-scroll tag, that overrides the default settings object\r\n\t\t\t\t\tif (_this.addWidth === false && parsedAddWidth === true) {\r\n\t\t\t\t\t\t_this.addWidth = parsedAddWidth;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_this.addHeight === false && parsedAddHeight === true) {\r\n\t\t\t\t\t\t_this.addHeight = parsedAddHeight;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (_this.once === false && parsedOnce === true) {\r\n\t\t\t\t\t\t_this.once = parsedOnce;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// parse callbacks\r\n\t\t\t\t\t_this.showCallback = _this.element.hasAttribute('data-scroll-showCallback') ? _this.element.getAttribute('data-scroll-showCallback') : _this.showCallback;\r\n\t\t\t\t\t_this.hideCallback = _this.element.hasAttribute('data-scroll-hideCallback') ? _this.element.getAttribute('data-scroll-hideCallback') : _this.hideCallback;\r\n\r\n\t\t\t\t\t// split the options on the toggle() parameter\r\n\t\t\t\t\tvar classParts = optionString.split('toggle(');\r\n\t\t\t\t\tif (classParts.length > 1) {\r\n\t\t\t\t\t\t// the toggle() parameter was given, split it at ) to get the\r\n\t\t\t\t\t\t// content inside the parentheses, then split them on the comma\r\n\t\t\t\t\t\tvar classes = classParts[1].split(')')[0].split(',');\r\n\r\n\t\t\t\t\t\t// Check if trim exists if not, add the polyfill\r\n\t\t\t\t\t\t// courtesy of MDN\r\n\t\t\t\t\t\tif (!String.prototype.trim) {\r\n\t\t\t\t\t\t\tString.prototype.trim = function () {\r\n\t\t\t\t\t\t\t\treturn this.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// trim and remove the dot\r\n\t\t\t\t\t\t_this.visibleClass = classes[0].trim().replace('.', '');\r\n\t\t\t\t\t\t_this.hiddenClass = classes[1].trim().replace('.', '');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// adds the half of the offsetWidth/Height to the x/yOffset\r\n\t\t\t\t\tif (optionString.indexOf(\"centerHorizontal\") > -1) {\r\n\t\t\t\t\t\txOffset = _this.element.offsetWidth / 2;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (optionString.indexOf(\"centerVertical\") > -1) {\r\n\t\t\t\t\t\tyOffset = _this.element.offsetHeight / 2;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// split the options on the offset() parameter\r\n\t\t\t\t\tvar offsetParts = optionString.split('offset(');\r\n\t\t\t\t\tif (offsetParts.length > 1) {\r\n\t\t\t\t\t\t// the offset() parameter was given, split it at ) to get the\r\n\t\t\t\t\t\t// content inside the parentheses, then split them on the comma\r\n\t\t\t\t\t\tvar offsets = offsetParts[1].split(')')[0].split(',');\r\n\r\n\t\t\t\t\t\t// remove the px unit and parse as integer\r\n\t\t\t\t\t\txOffset += parseInt(offsets[0].replace('px', ''));\r\n\t\t\t\t\t\tyOffset += parseInt(offsets[1].replace('px', ''));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// return this for chaining\r\n\t\t\t\t\treturn _this;\r\n\t\t\t\t};\r\n\t\t\t}(this);\r\n\t\t};\r\n\r\n\t\t// the element to detect the scroll in\r\n\t\tthis.scrollElement = window;\r\n\r\n\t\t// the element to get the data-scroll elements from\r\n\t\tthis.bindElement = document.body;\r\n\r\n\t\t// the scope to call the callbacks in, defaults to window\r\n\t\tthis.callScope = window;\r\n\r\n\t\t// the Trigger objects\r\n\t\tvar triggers = [];\r\n\r\n\t\t// attached callbacks for the requestAnimationFrame loop,\r\n\t\t// this is handy for custom scroll based animation. So you\r\n\t\t// don't have multiple, unnecessary loops going.\r\n\t\tvar attached = [];\r\n\r\n\t\t// the previous scrollTop position, to determine if a user\r\n\t\t// is scrolling up or down. Set that to -1 -1 so the loop\r\n\t\t// always runs at least once\r\n\t\tvar previousScroll = {\r\n\t\t\tleft: -1,\r\n\t\t\ttop: -1\r\n\t\t};\r\n\r\n\t\t// the loop method to use, preferred window.requestAnimationFrame\r\n\t\tvar loop = window.requestAnimationFrame ||\r\n\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\twindow.mozRequestAnimationFrame ||\r\n\t\t\twindow.msRequestAnimationFrame ||\r\n\t\t\twindow.oRequestAnimationFrame ||\r\n\t\t\tfunction(callback){ setTimeout(callback, 1000 / 60); };\r\n\r\n\t\t// if the requestAnimationFrame is looping\r\n\t\tvar isLooping = false;\r\n\r\n\r\n\t\t/**\r\n\t\t * Initializes the scrollTrigger\r\n\t\t */\r\n\t\tvar init = function(_this) {\r\n\t\t\treturn function(defaultOptions, bindTo, scrollIn) {\r\n\t\t\t\t// check if bindTo is not undefined or null,\r\n\t\t\t\t// otherwise use the document.body\r\n\t\t\t\tif (bindTo != undefined && bindTo != null) {\r\n\t\t\t\t\t_this.bindElement = bindTo;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.bindElement = document.body;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// check if the scrollIn is not undefined or null,\r\n\t\t\t\t// otherwise use the window\r\n\t\t\t\tif (scrollIn != undefined && scrollIn != null) {\r\n\t\t\t\t\t_this.scrollElement = scrollIn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.scrollElement = window;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Initially bind all elements with the data-scroll attribute\r\n\t\t\t\t_this.bind(_this.bindElement.querySelectorAll(\"[data-scroll]\"));\r\n\r\n\t\t\t\t// return 'this' for chaining\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\t\t/**\r\n\t\t * Binds new HTMLElement objects to the trigger array\r\n\t\t */\r\n\t\tthis.bind = function(_this) {\r\n\t\t\treturn function(elements) {\r\n\t\t\t\t// check if an array is given\r\n\t\t\t\tif (elements instanceof HTMLElement) {\r\n\t\t\t\t\t// if it's a single HTMLElement just create an array\r\n\t\t\t\t\telements = [elements];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// get all trigger elements, e.g. all elements with\r\n\t\t\t\t// the data-scroll attribute and turn it from a NodeList\r\n\t\t\t\t// into a plain old array\r\n\t\t\t\tvar newTriggers = [].slice.call(elements);\r\n\r\n\t\t\t\t// map all the triggers to Trigger objects, and initialize them\r\n\t\t\t\t// so the options get parsed\r\n\t\t\t\tnewTriggers = newTriggers.map(function (element, index) {\r\n\t\t\t\t\tvar trigger = new Trigger(defaultOptions, element);\r\n\r\n\t\t\t\t\treturn trigger.init();\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// add to the triggers array\r\n\t\t\t\ttriggers = triggers.concat(newTriggers);\r\n\r\n\t\t\t\tif (triggers.length > 0 && isLooping == false) {\r\n\t\t\t\t\tisLooping = true;\r\n\r\n\t\t\t\t\t// start the update loop\r\n\t\t\t\t\tupdate();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tisLooping = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// return 'this' for chaining\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\t\t/**\r\n\t\t * Returns a trigger object from a htmlElement object (e.g. via querySelector())\r\n\t\t */\r\n\t\tthis.triggerFor = function(_this) {\r\n\t\t\treturn function(htmlElement){\r\n\t\t\t\tvar returnTrigger = null;\r\n\r\n\t\t\t\ttriggers.each(function(trigger, index) {\r\n\t\t\t\t\tif (trigger.element == htmlElement) {\r\n\t\t\t\t\t\treturnTrigger = trigger;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn returnTrigger;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\t\t/**\r\n\t\t * Removes a Trigger by its HTMLElement object, e.g via querySelector()\r\n\t\t */\r\n\t\tthis.destroy = function(_this) {\r\n\t\t\treturn function(htmlElement) {\r\n\t\t\t\ttriggers.each(function(trigger, index) {\r\n\t\t\t\t\tif (trigger.element == htmlElement) {\r\n\t\t\t\t\t\ttriggers.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// return 'this' for chaining\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\t\t/**\r\n\t\t * Removes all Trigger objects from the Trigger array\r\n\t\t */\r\n\t\tthis.destroyAll = function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\ttriggers = [];\r\n\r\n\t\t\t\t// return 'this' for chaining\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\t\t/**\r\n\t\t * Resets a Trigger object, removes all added classes and then removes it from the triggers array. Like nothing\r\n\t\t * ever happened..\r\n\t\t */\r\n\t\tthis.reset = function(_this) {\r\n\t\t\treturn function(htmlElement) {\r\n\t\t\t\tvar trigger = _this.triggerFor(htmlElement);\r\n\r\n\t\t\t\tif (trigger != null) {\r\n\t\t\t\t\ttrigger.reset();\r\n\r\n\t\t\t\t\tvar index = triggers.indexOf(trigger);\r\n\r\n\t\t\t\t\tif (index > -1) {\r\n\t\t\t\t\t\ttriggers.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// return 'this' for chaining\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\t\t/**\r\n\t\t * Does the same as .reset() but for all triggers\r\n\t\t */\r\n\t\tthis.resetAll = function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\ttriggers.each(function(trigger, index) {\r\n\t\t\t\t\ttrigger.reset();\r\n\t\t\t\t});\r\n\r\n\t\t\t\ttriggers = [];\r\n\r\n\t\t\t\t// return 'this' for chaining\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\t\t/**\r\n\t\t * Attaches a callback that get's called every time\r\n\t\t * the update method is called\r\n\t\t */\r\n\t\tthis.attach = function(_this) {\r\n\t\t\treturn function(callback) {\r\n\t\t\t\t// add callback to array\r\n\t\t\t\tattached.push(callback);\r\n\r\n\t\t\t\tif (!isLooping) {\r\n\t\t\t\t\tisLooping = true;\r\n\r\n\t\t\t\t\t// start the update loop\r\n\t\t\t\t\tupdate();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// return 'this' for chaining\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\r\n\t\t/**\r\n\t\t * Detaches a callback\r\n\t\t */\r\n\t\tthis.detach = function(_this) {\r\n\t\t\treturn function(callback) {\r\n\t\t\t\t// remove callback from array\r\n\t\t\t\tvar index = attached.indexOf(callback);\r\n\r\n\t\t\t\tif (index > -1) {\r\n\t\t\t\t\tattached.splice(index, 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn _this;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\r\n\t\t// store _this for use in the update function scope (strict)\r\n\t\tvar _this = this;\r\n\r\n\r\n\t\t/**\r\n\t\t * Gets called everytime the browser is ready for it, or when the user\r\n\t\t * scrolls (on legacy browsers)\r\n\t\t */\r\n\t\tfunction update() {\r\n\t\t\t// FF and IE use the documentElement instead of body\r\n\t\t\tvar currentTop = !_this.bindElement.scrollTop ? document.documentElement.scrollTop : _this.bindElement.scrollTop;\r\n\t\t\tvar currentLeft = !_this.bindElement.scrollLeft ? document.documentElement.scrollLeft : _this.bindElement.scrollLeft;\r\n\r\n\t\t\t// if the user scrolled\r\n\t\t\tif (previousScroll.left != currentLeft || previousScroll.top != currentTop) {\r\n\t\t\t\t_this.scrollDidChange();\r\n\t\t\t}\r\n\r\n\t\t\tif (triggers.length > 0 || attached.length > 0) {\r\n\t\t\t\tisLooping = true;\r\n\r\n\t\t\t\t// and loop again\r\n\t\t\t\tloop(update);\r\n\t\t\t} else {\r\n\t\t\t\tisLooping = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.scrollDidChange = function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\tvar windowWidth = _this.scrollElement.innerWidth || _this.scrollElement.offsetWidth;\r\n\t\t\t\tvar windowHeight = _this.scrollElement.innerHeight || _this.scrollElement.offsetHeight;\r\n\r\n\t\t\t\t// FF and IE use the documentElement instead of body\r\n\t\t\t\tvar currentTop = !_this.bindElement.scrollTop ? document.documentElement.scrollTop : _this.bindElement.scrollTop;\r\n\t\t\t\tvar currentLeft = !_this.bindElement.scrollLeft ? document.documentElement.scrollLeft : _this.bindElement.scrollLeft;\r\n\r\n\t\t\t\tvar onceTriggers = [];\r\n\r\n\t\t\t\t// loop through all triggers\r\n\t\t\t\ttriggers.each(function(trigger, index){\r\n\t\t\t\t\tvar triggerLeft = trigger.left();\r\n\t\t\t\t\tvar triggerTop = trigger.top();\r\n\r\n\t\t\t\t\tif (previousScroll.left > currentLeft) {\r\n\t\t\t\t\t\t// scrolling left, so we subtract the xOffset\r\n\t\t\t\t\t\ttriggerLeft -= trigger.xOffset(true);\r\n\t\t\t\t\t} else if (previousScroll.left < currentLeft) {\r\n\t\t\t\t\t\t// scrolling right, so we add the xOffset\r\n\t\t\t\t\t\ttriggerLeft += trigger.xOffset(false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (previousScroll.top > currentTop) {\r\n\t\t\t\t\t\t// scrolling up, so we subtract the yOffset\r\n\t\t\t\t\t\ttriggerTop -= trigger.yOffset(true);\r\n\t\t\t\t\t} else if (previousScroll.top < currentTop){\r\n\t\t\t\t\t\t// scrolling down so then we add the yOffset\r\n\t\t\t\t\t\ttriggerTop += trigger.yOffset(false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// toggle the classes\r\n\t\t\t\t\tif (triggerLeft < windowWidth && triggerLeft >= 0 &&\r\n\t\t\t\t\t\ttriggerTop < windowHeight && triggerTop >= 0) {\r\n\t\t\t\t\t\t// the element is visible\r\n\t\t\t\t\t\ttrigger.addClass(trigger.visibleClass, function(){\r\n\t\t\t\t\t\t\tif (trigger.showCallback) {\r\n\t\t\t\t\t\t\t\tfunctionCall(trigger, trigger.showCallback);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\ttrigger.removeClass(trigger.hiddenClass);\r\n\r\n\t\t\t\t\t\tif (trigger.once) {\r\n\t\t\t\t\t\t\t// remove trigger from triggers array\r\n\t\t\t\t\t\t\tonceTriggers.push(trigger);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// the element is invisible\r\n\t\t\t\t\t\ttrigger.addClass(trigger.hiddenClass);\r\n\t\t\t\t\t\ttrigger.removeClass(trigger.visibleClass, function(){\r\n\t\t\t\t\t\t\tif (trigger.hideCallback) {\r\n\t\t\t\t\t\t\t\tfunctionCall(trigger, trigger.hideCallback);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// call the attached callbacks, if any\r\n\t\t\t\tattached.each(function(callback) {\r\n\t\t\t\t\tcallback.call(_this, currentLeft, currentTop, windowWidth, windowHeight);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// remove the triggers that are 'once'\r\n\t\t\t\tonceTriggers.each(function(trigger){\r\n\t\t\t\t\tvar index = triggers.indexOf(trigger);\r\n\r\n\t\t\t\t\tif (index > -1) {\r\n\t\t\t\t\t\ttriggers.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// save the current scroll position\r\n\t\t\t\tpreviousScroll.left = currentLeft;\r\n\t\t\t\tpreviousScroll.top = currentTop;\r\n\t\t\t};\r\n\t\t}(this);\r\n\r\n\t\tfunction functionCall(trigger, functionAsString) {\r\n\t\t\tvar params = functionAsString.split('(');\r\n\t\t\tvar method = params[0];\r\n\r\n\t\t\tif (params.length > 1) {\r\n\t\t\t\tparams = params[1].split(')')[0]; // get the value between the parentheses\r\n\r\n\t\t\t\t// check if there are multiple attributes\r\n\t\t\t\tif (params.indexOf(\"', '\") > -1) {\r\n\t\t\t\t\tparams = params.split(\"', '\");\r\n\t\t\t\t} else if (params.indexOf(\"','\") > -1) {\r\n\t\t\t\t\tparams = params.split(\"','\");\r\n\t\t\t\t} else if (params.indexOf('\", \"') > -1) {\r\n\t\t\t\t\tparams = params.split('\", \"');\r\n\t\t\t\t} else if (params.indexOf('\",\"') > -1) {\r\n\t\t\t\t\tparams = params.split('\",\"');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// nope, just a single parameter\r\n\t\t\t\t\tparams = [params];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tparams = [];\r\n\t\t\t}\r\n\r\n\t\t\t// remove all quotes from the parameters\r\n\t\t\tparams = params.map(function (param) {\r\n\t\t\t\treturn removeQuotes(param);\r\n\t\t\t});\r\n\r\n\t\t\tif (typeof _this.callScope[method] == \"function\") {\r\n\t\t\t\t// function exists in the call scope so let's try to call it. Some methods don't like to have the HTMLElement\r\n\t\t\t\t// passed as 'this', so retry without that if it fails.\r\n\t\t\t\ttry {\r\n\t\t\t\t\t_this.callScope[method].apply(trigger.element, params);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// alright let's try again\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t_this.callScope[method].apply(null, params);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t// ah to bad.\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// removes quotes from a string, e.g. turns 'foo' or \"foo\" into foo\r\n\t\t// typeof foo is string\r\n\t\tfunction removeQuotes(str) {\r\n\t\t\tstr = str + \"\"; // force a string\r\n\r\n\t\t\tif (str[0] == '\"') {\r\n\t\t\t\tstr = str.substr(1);\r\n\t\t\t}\r\n\r\n\t\t\tif (str[0] == \"'\") {\r\n\t\t\t\tstr = str.substr(1);\r\n\t\t\t}\r\n\r\n\t\t\tif (str[str.length - 1] == '\"') {\r\n\t\t\t\tstr = str.substr(0, str.length - 1);\r\n\t\t\t}\r\n\r\n\t\t\tif (str[str.length - 1] == \"'\") {\r\n\t\t\t\tstr = str.substr(0, str.length - 1);\r\n\t\t\t}\r\n\r\n\t\t\treturn str;\r\n\t\t}\r\n\r\n\t\t// Faster than .forEach\r\n\t\tArray.prototype.each = function(a) {\r\n\t\t\tvar l = this.length;\r\n\t\t\tfor(var i = 0; i < l; i++) {\r\n\t\t\t\tvar e = this[i];\r\n\r\n\t\t\t\tif (e) {\r\n\t\t\t\t\ta(e,i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn init(defaultOptions, bindTo, scrollIn);\r\n\t};\r\n}));\r\n"]}