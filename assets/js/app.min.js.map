{"version":3,"sources":["app.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","$window","$header","sticky","$","on","$btn","this","$input","siblings","value","val","direction","hasClass","trigger","preventDefault","click","$title","$item","parent","$content","next","toggleClass","slideToggle","document","body","window","documentElement","addClass","scroll","pageY","scrollTop","removeClass","ScrollReveal","reveal","delay","duration","scale","opacity","interval","cleanup","origin","distance","easing","viewFactor","2","_Point","_interopRequireDefault","_Hex","_Grid","_Tile","obj","__esModule","default","rootElement","getElementById","svgRootElement","getElementsByTagName","grid","hex","data","activeTile","fill","clear","isTilt","$elem","tilt","destroy","reset","orientation","Orientation","pointy","flat","tiles","forEach","update","draw","touch","addTile","./designer/Grid","./designer/Tile","./geometry/Hex","./geometry/Point","3","Object","defineProperty","_Orientation","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","from","_iterableToArray","TypeError","_nonIterableSpread","_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","Grid","width","size","instance","Constructor","_classCallCheck","svg","querySelector","viewport","x1","y1","x2","y2","$config","find","protoProps","staticProps","_createClass","tile","_this$tiles","push","apply","index","findIndex","q","splice","_this","setAttribute","concat","drawNeighbors","bounds","getBoundaries","tileSize","getTileSize","minX","minY","height","maxX","maxY","console","log","Math","abs","viewBox","neighbor","hasTile","honeycomb","hexes","map","h","filter","Boolean","undefined","getTile","M","x","f0","f1","y","f2","f3","pt","b0","b1","b2","b3","corners","center","hexToPixel","offset","hexCornerOffset","corner","angle","PI","start_angle","cos","sin","sqrt","v","color","css","top","left","fadeIn","../geometry/Hex","../geometry/Orientation","../geometry/Point","./Tile","4","Tile","element","points","_init","elem","createElement","getElementsByClassName","appendChild","listeners","onClick","bind","keys","addEventListener","hexCorners","_this2","removeEventListener","parentNode","removeChild","_this3","childNodes","node","$shape","attr","_this4","getTrailingNeighbors","getTileIndex","_this5","trailing","getTiles","neighbors","some","event","selectTile","ns","group","createElementNS","polygon","img","5","Hex","s","Directions","add","b","dir","round","rX","rY","rZ","xDiff","yDiff","zDiff","6","7","Point","mid","8","./app","./designer"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\ninitQuantityButtons();\ninitAccordion();\n\nif ($(document.body).hasClass('template-template-home')) {\n  initStickyHeader();\n  initScrollReveal();\n}\n\nfunction initScrollReveal() {\n  ScrollReveal().reveal('.app-hero .col:first-child > *', {\n    delay: 400,\n    duration: 1400,\n    scale: 0.8,\n    opacity: 0,\n    interval: 200,\n    cleanup: true\n  });\n  ScrollReveal().reveal('.app-hero .col img', {\n    duration: 1400,\n    origin: 'right',\n    distance: '100px',\n    easing: 'cubic-bezier(0.4, 0.2, 0.2, 1)',\n    opacity: 0,\n    cleanup: true\n  });\n  ScrollReveal().reveal('.home-feature', {\n    duration: 1400,\n    distance: '80px',\n    opacity: 0,\n    interval: 200,\n    viewFactor: 0.5,\n    cleanup: true\n  });\n  ScrollReveal().reveal('.box-img', {\n    duration: 1400,\n    distance: '100px',\n    origin: 'right',\n    opacity: 0,\n    interval: 200,\n    viewFactor: 0.5,\n    cleanup: true\n  });\n}\n\nfunction initAccordion() {\n  $('.accordion-title').click(function () {\n    var $title = $(this);\n    var $item = $title.parent('.accordion-item');\n    var $content = $title.next('.accordion-content');\n    $item.toggleClass('active');\n    $content.slideToggle(300);\n  });\n}\n\nfunction initQuantityButtons() {\n  $('.woocommerce').on('click', '.qty-btn', function (e) {\n    var $btn = $(this);\n    var $input = $btn.siblings('input');\n    var value = $input.val();\n    var direction = $btn.hasClass('qty-down') ? 'Down' : 'Up';\n    $input[0]['step' + direction](); // invoke stepUp or stepDown\n\n    if (value !== $input.val()) {\n      $input.trigger('change'); // trigger change event only when the value has changed\n    }\n\n    e.preventDefault();\n  });\n}\n\nfunction initStickyHeader() {\n  var $window = $(window);\n  var $header = $('.site-header');\n  var sticky = false;\n  $(document.documentElement).addClass('sh');\n  $window.scroll(function (e) {\n    var pageY = $window.scrollTop();\n\n    if (!sticky && pageY > 900) {\n      sticky = true;\n      $header.addClass('sticky');\n    } else if (sticky && pageY < 28) {\n      sticky = false;\n      $header.removeClass('sticky');\n    }\n  });\n}\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar _Point = _interopRequireDefault(require(\"./geometry/Point\"));\n\nvar _Hex = _interopRequireDefault(require(\"./geometry/Hex\"));\n\nvar _Grid = _interopRequireDefault(require(\"./designer/Grid\"));\n\nvar _Tile = _interopRequireDefault(require(\"./designer/Tile\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar rootElement = document.getElementById('designer');\nvar activeElement = null;\n\nif (rootElement) {\n  var svgRootElement = rootElement.getElementsByTagName('svg')[0];\n  var grid = new _Grid[\"default\"](rootElement, 200, new _Point[\"default\"](38, 38));\n  $('.colors li').click(function (e) {\n    var hex = $(this).data('hex');\n    grid.activeTile.fill(hex);\n  });\n  $('#tile-delete-btn').click(function (e) {\n    grid.activeTile.clear();\n  });\n  var isTilt = false;\n  $('#3d').click(function (e) {\n    var $elem = $('.tile-grid');\n\n    if (isTilt) {\n      $elem.tilt.destroy.call($elem);\n      isTilt = false;\n    } else {\n      $elem.tilt({\n        reset: false\n      });\n      isTilt = true;\n    }\n  });\n  $('#relaxed').click(function (e) {\n    $(svgRootElement).toggleClass('tiles--relaxed');\n  });\n  $('#orientation').click(function (e) {\n    grid.orientation = grid.orientation === Orientation.pointy ? Orientation.flat : Orientation.pointy;\n    grid.tiles.forEach(function (t) {\n      t.update();\n      t.draw();\n    });\n    grid.touch();\n  });\n  grid.addTile([new _Tile[\"default\"](new _Hex[\"default\"](0, 0), grid)]);\n  grid.draw();\n}\n\n},{\"./designer/Grid\":3,\"./designer/Tile\":4,\"./geometry/Hex\":5,\"./geometry/Point\":7}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _Tile = _interopRequireDefault(require(\"./Tile\"));\n\nvar _Point = _interopRequireDefault(require(\"../geometry/Point\"));\n\nvar _Hex = _interopRequireDefault(require(\"../geometry/Hex\"));\n\nvar _Orientation = _interopRequireDefault(require(\"../geometry/Orientation\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\r\n * Axial hexagon grid using SVG.\r\n *\r\n * @see https://www.redblobgames.com/grids/hexagons\r\n */\nvar Grid =\n/*#__PURE__*/\nfunction () {\n  function Grid(rootElement, width, size) {\n    _classCallCheck(this, Grid);\n\n    this.svg = rootElement.querySelector('svg');\n    this.tiles = [];\n    this.size = size;\n    this.viewport = {\n      x1: 0,\n      y1: 0,\n      x2: width,\n      y2: width\n    };\n    this.width = width;\n    this.origin = new _Point[\"default\"](this.width / 2, this.width / 2);\n    this.orientation = _Orientation[\"default\"].pointy;\n    this.activeTile = null;\n    this.$config = $(rootElement).find('.tile-config');\n  }\n\n  _createClass(Grid, [{\n    key: \"addTile\",\n    value: function addTile(tile) {\n      if (Array.isArray(tile)) {\n        var _this$tiles;\n\n        (_this$tiles = this.tiles).push.apply(_this$tiles, _toConsumableArray(tile));\n      } else {\n        this.tiles.push(tile);\n      }\n    }\n  }, {\n    key: \"removeTile\",\n    value: function removeTile(hex) {\n      var index = this.tiles.findIndex(function (t) {\n        return t.hex.q === hex.q && t.hex.r === hex.r;\n      });\n\n      if (index) {\n        this.tiles.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var _this = this;\n\n      this.svg.setAttribute('width', this.width);\n      this.svg.setAttribute('viewBox', \"\".concat(this.viewport.x1, \" \").concat(this.viewport.y1, \" \").concat(this.viewport.x2, \" \").concat(this.viewport.y2));\n      this.tiles.forEach(function (tile) {\n        tile.draw();\n        tile.fill('#222');\n\n        _this.drawNeighbors(tile);\n      });\n    }\n  }, {\n    key: \"touch\",\n    value: function touch() {\n      var bounds = this.getBoundaries();\n      var tileSize = this.getTileSize();\n      this.viewport = {\n        x1: bounds.minX - tileSize.width / 2,\n        y1: bounds.minY - tileSize.height / 2,\n        x2: bounds.maxX + tileSize.width / 2,\n        y2: bounds.maxY + tileSize.height / 2\n      };\n      console.log(tileSize);\n      var width = Math.abs(this.viewport.x1) + this.viewport.x2;\n      var height = Math.abs(this.viewport.y1) + this.viewport.y2;\n      var viewBox = \"\".concat(this.viewport.x1, \" \").concat(this.viewport.y1, \" \").concat(width, \" \").concat(height);\n      this.svg.setAttribute('width', width);\n      this.svg.setAttribute('viewBox', viewBox); // this.tiles.forEach(t => t.update());\n    }\n  }, {\n    key: \"drawNeighbors\",\n    value: function drawNeighbors(tile) {\n      for (var i = 0; i < 6; i++) {\n        var neighbor = _Hex[\"default\"].neighbor(tile.hex, i);\n\n        if (!this.hasTile(neighbor)) {\n          var honeycomb = new _Tile[\"default\"](neighbor, this);\n          honeycomb.draw();\n          this.addTile(honeycomb);\n        }\n      }\n    }\n  }, {\n    key: \"getTile\",\n    value: function getTile(hex) {\n      return this.tiles.find(function (t) {\n        return t.hex.q === hex.q && t.hex.r === hex.r;\n      });\n    }\n  }, {\n    key: \"getTileIndex\",\n    value: function getTileIndex(tile) {\n      return this.tiles.findIndex(function (t) {\n        return t.hex.q === tile.hex.q && t.hex.r === tile.hex.r;\n      });\n    }\n  }, {\n    key: \"getTiles\",\n    value: function getTiles(hexes) {\n      return this.tiles.map(function (t) {\n        var hex = hexes.find(function (h) {\n          return t.hex.q === h.q && t.hex.r === h.r;\n        });\n        return hex ? t : null;\n      }).filter(Boolean);\n    }\n  }, {\n    key: \"hasTile\",\n    value: function hasTile(hex) {\n      return this.getTile(hex) !== undefined;\n    }\n  }, {\n    key: \"hexToPixel\",\n    value: function hexToPixel(h) {\n      var M = this.orientation;\n      var size = this.size;\n      var origin = this.origin;\n      var x = (M.f0 * h.q + M.f1 * h.r) * size.x;\n      var y = (M.f2 * h.q + M.f3 * h.r) * size.y;\n      return new _Point[\"default\"](x + origin.x, y + origin.y);\n    }\n  }, {\n    key: \"pixelToHex\",\n    value: function pixelToHex(p) {\n      var M = this.orientation;\n      var size = this.size;\n      var origin = this.origin;\n      var pt = new _Point[\"default\"]((p.x - origin.x) / size.x, (p.y - origin.y) / size.y);\n      var q = M.b0 * pt.x + M.b1 * pt.y;\n      var r = M.b2 * pt.x + M.b3 * pt.y;\n      return new _Hex[\"default\"](q, r);\n    }\n  }, {\n    key: \"hexCorners\",\n    value: function hexCorners(h) {\n      var corners = [];\n      var center = this.hexToPixel(h);\n\n      for (var i = 0; i < 6; i++) {\n        var offset = this.hexCornerOffset(i);\n        var corner = new _Point[\"default\"](center.x + offset.x, center.y + offset.y);\n        corners.push(corner);\n      }\n\n      return corners;\n    }\n  }, {\n    key: \"hexCornerOffset\",\n    value: function hexCornerOffset(corner) {\n      var M = this.orientation;\n      var size = this.size;\n      var angle = 2.0 * Math.PI * (M.start_angle - corner) / 6.0;\n      var x = size.x * Math.cos(angle);\n      var y = size.y * Math.sin(angle);\n      return new _Point[\"default\"](x, y);\n    }\n  }, {\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      var minX = 1000,\n          minY = 1000,\n          maxX = -1000,\n          maxY = -1000;\n      this.tiles.forEach(function (t) {\n        var p = t.center;\n        if (p.x <= minX) minX = p.x;else if (p.x > maxX) maxX = p.x;\n        if (p.y <= minY) minY = p.y;else if (p.y > maxY) maxY = p.y;\n      });\n      return {\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY\n      };\n    }\n  }, {\n    key: \"getTileSize\",\n    value: function getTileSize() {\n      var height = this.size.y * 2;\n      var width = Math.sqrt(3) / 2 * height;\n      var v = width;\n      var h = height * 0.75;\n\n      if (this.orientation === _Orientation[\"default\"].flat) {\n        return {\n          // reversed dimensions\n          width: height,\n          height: width,\n          v: h,\n          h: v\n        };\n      }\n\n      return {\n        width: width,\n        height: height,\n        v: v,\n        h: h\n      };\n    }\n  }, {\n    key: \"selectTile\",\n    value: function selectTile(tile) {\n      this.activeTile = tile;\n\n      if (tile.color) {\n        this.$config.css({\n          top: \"\".concat(tile.center.y, \"px\"),\n          left: \"\".concat(tile.center.x, \"px\")\n        }).fadeIn();\n      } else {\n        tile.fill('#222');\n\n        for (var i = 0; i < 6; i++) {\n          this.drawNeighbors(tile);\n        }\n      }\n\n      this.touch();\n    }\n  }]);\n\n  return Grid;\n}();\n\nexports[\"default\"] = Grid;\n\n},{\"../geometry/Hex\":5,\"../geometry/Orientation\":6,\"../geometry/Point\":7,\"./Tile\":4}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _Hex = _interopRequireDefault(require(\"../geometry/Hex\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Tile =\n/*#__PURE__*/\nfunction () {\n  function Tile(hex, grid) {\n    _classCallCheck(this, Tile);\n\n    this.hex = hex;\n    this.grid = grid;\n    this.element = null;\n    this.center = null;\n    this.points = [];\n    this.color = null;\n\n    this._init();\n  }\n\n  _createClass(Tile, [{\n    key: \"_init\",\n    value: function _init() {\n      var _this = this;\n\n      var elem = Tile.createElement();\n      this.update();\n      this.element = this.grid.svg.getElementsByClassName('tiles')[0].appendChild(elem);\n      this.listeners = {\n        'click': this.onClick.bind(this)\n      };\n      Object.keys(this.listeners).forEach(function (key) {\n        _this.element.addEventListener(key, _this.listeners[key]);\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.center = this.grid.hexToPixel(this.hex);\n      this.points = this.grid.hexCorners(this.hex);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      Object.keys(this.listeners).forEach(function (key) {\n        _this2.element.removeEventListener(key, _this2.listeners[key]);\n      });\n      this.element.parentNode.removeChild(this.element);\n      this.element = null;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var _this3 = this;\n\n      this.element.setAttribute('transform-origin', \"\".concat(this.center.x, \"px \").concat(this.center.y, \"px\"));\n      this.element.childNodes.forEach(function (node) {\n        node.setAttribute('points', _this3.points);\n      });\n    }\n  }, {\n    key: \"fill\",\n    value: function fill(hex) {\n      var $elem = $(this.element);\n      var $shape = $elem.find('.tile-shape');\n      $elem.removeClass('tile--clear');\n      $elem.addClass('tile--fill');\n      $shape.attr('fill', hex);\n      $shape.attr('stroke', hex);\n      this.color = hex;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this4 = this;\n\n      var $elem = $(this.element);\n      $elem.removeClass('tile--fill');\n      $elem.addClass('tile--clear');\n      this.color = null;\n      this.getTrailingNeighbors().forEach(function (t) {\n        var index = _this4.grid.getTileIndex(t);\n\n        _this4.grid.tiles.splice(index, 1);\n\n        t.destroy();\n      });\n      this.grid.touch();\n    }\n  }, {\n    key: \"getTrailingNeighbors\",\n    value: function getTrailingNeighbors() {\n      var _this5 = this;\n\n      var trailing = [];\n      var neighbors = this.grid.getTiles(_Hex[\"default\"].neighbors(this.hex)).filter(function (t) {\n        return !t.color;\n      });\n      neighbors.forEach(function (tile) {\n        // get the second row of empty neighbors\n        var secondNeighbors = _this5.grid.getTiles(_Hex[\"default\"].neighbors(tile.hex));\n\n        var hasActiveNeighbor = secondNeighbors.some(function (t) {\n          return t.color;\n        });\n\n        if (!hasActiveNeighbor) {\n          console.log('has no active', tile);\n          trailing.push(tile);\n        }\n      });\n      return trailing;\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      this.grid.selectTile(this);\n    }\n  }]);\n\n  return Tile;\n}();\n\nexports[\"default\"] = Tile;\n\nTile.createElement = function () {\n  var ns = 'http://www.w3.org/2000/svg';\n  var group = document.createElementNS(ns, 'g');\n  var polygon = document.createElementNS(ns, 'polygon');\n  var img = document.createElementNS(ns, 'polygon');\n  group.setAttribute('class', 'tile tile--clear');\n  group.appendChild(polygon);\n  group.appendChild(img);\n  polygon.setAttribute('class', 'tile-shape');\n  img.setAttribute('class', 'tile-img');\n  return group;\n};\n\n},{\"../geometry/Hex\":5}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Hex = function Hex(q, r) {\n  _classCallCheck(this, Hex);\n\n  this.q = q;\n  this.r = r;\n  this.s = -q - r;\n};\n\nexports[\"default\"] = Hex;\nHex.Directions = [new Hex(1, -1), new Hex(1, 0), new Hex(0, 1), new Hex(-1, 1), new Hex(-1, 0), new Hex(0, -1)];\n/**\r\n * Sum up two hexes.\r\n *\r\n * @param {Hex} a\r\n * @param {Hex} b\r\n * @returns {Hex}\r\n */\n\nHex.add = function (a, b) {\n  return new Hex(a.q + b.q, a.r + b.r);\n};\n/**\r\n * Get the neighboring hex.\r\n *\r\n * @param {Hex} hex\r\n * @param {number} dir\r\n * @returns {Hex}\r\n */\n\n\nHex.neighbor = function (hex, dir) {\n  var direction = Hex.Directions[dir];\n  return this.add(hex, direction);\n};\n/**\r\n * Get all neighboring hexes.\r\n *\r\n * @param {Hex} hex\r\n * @returns {Hex[]}\r\n */\n\n\nHex.neighbors = function (hex) {\n  var neighbors = [];\n\n  for (var i = 0; i < 6; i++) {\n    neighbors.push(Hex.neighbor(hex, i));\n  }\n\n  return neighbors;\n};\n/**\r\n * Round to the nearest hex position.\r\n *\r\n * @param {Hex} hex\r\n * @returns {Hex}\r\n */\n\n\nHex.round = function (hex) {\n  var rX = Math.round(hex.q);\n  var rY = Math.round(hex.r);\n  var rZ = Math.round(hex.s);\n  var xDiff = Math.abs(rX - hex.q);\n  var yDiff = Math.abs(rY - hex.r);\n  var zDiff = Math.abs(rZ - hex.s);\n\n  if (xDiff > yDiff && xDiff > zDiff) {\n    rX = -rY - rZ;\n  } else if (yDiff > zDiff) {\n    rY = -rX - rZ;\n  }\n\n  return new Hex(rX, rY);\n};\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Orientation = function Orientation(f0, f1, f2, f3, b0, b1, b2, b3, start_angle) {\n  _classCallCheck(this, Orientation);\n\n  this.f0 = f0;\n  this.f1 = f1;\n  this.f2 = f2;\n  this.f3 = f3;\n  this.b0 = b0;\n  this.b1 = b1;\n  this.b2 = b2;\n  this.b3 = b3;\n  this.start_angle = start_angle;\n};\n\nexports[\"default\"] = Orientation;\nOrientation.pointy = new Orientation(Math.sqrt(3.0), Math.sqrt(3.0) / 2.0, 0.0, 3.0 / 2.0, Math.sqrt(3.0) / 3.0, -1.0 / 3.0, 0.0, 2.0 / 3.0, 0.5);\nOrientation.flat = new Orientation(3.0 / 2.0, 0.0, Math.sqrt(3.0) / 2.0, Math.sqrt(3.0), 2.0 / 3.0, 0.0, -1.0 / 3.0, Math.sqrt(3.0) / 3.0, 0.0);\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Point =\n/*#__PURE__*/\nfunction () {\n  function Point(x, y) {\n    _classCallCheck(this, Point);\n\n    this.x = x;\n    this.y = y;\n  }\n\n  _createClass(Point, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.x, \",\").concat(this.y);\n    }\n  }]);\n\n  return Point;\n}();\n/**\r\n * Retrieve the point in the middle of two points.\r\n *\r\n * @param {Point} a\r\n * @param {Point} b\r\n */\n\n\nexports[\"default\"] = Point;\n\nPoint.mid = function (a, b) {\n  return new Point((a.x + b.x) / 2, (a.y + b.y) / 2);\n};\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nrequire(\"./app\");\n\nrequire(\"./designer\");\n\n},{\"./app\":1,\"./designer\":2}]},{},[8])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvc3JjL2FwcC5qcyIsImFzc2V0cy9qcy9zcmMvZGVzaWduZXIuanMiLCJhc3NldHMvanMvc3JjL2Rlc2lnbmVyL0dyaWQuanMiLCJhc3NldHMvanMvc3JjL2Rlc2lnbmVyL1RpbGUuanMiLCJhc3NldHMvanMvc3JjL2dlb21ldHJ5L0hleC5qcyIsImFzc2V0cy9qcy9zcmMvZ2VvbWV0cnkvT3JpZW50YXRpb24uanMiLCJhc3NldHMvanMvc3JjL2dlb21ldHJ5L1BvaW50LmpzIiwiYXNzZXRzL2pzL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsbUJBQW1CO0FBQ25CLGFBQWE7O0FBRWIsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQVYsQ0FBRCxDQUFpQixRQUFqQixDQUEwQix3QkFBMUIsQ0FBSixFQUF5RDtBQUNyRCxFQUFBLGdCQUFnQjtBQUNoQixFQUFBLGdCQUFnQjtBQUNuQjs7QUFFRCxTQUFTLGdCQUFULEdBQTRCO0FBQ3hCLEVBQUEsWUFBWSxHQUFHLE1BQWYsQ0FBc0IsZ0NBQXRCLEVBQXdEO0FBQ3BELElBQUEsS0FBSyxFQUFFLEdBRDZDO0FBRXBELElBQUEsUUFBUSxFQUFFLElBRjBDO0FBR3BELElBQUEsS0FBSyxFQUFFLEdBSDZDO0FBSXBELElBQUEsT0FBTyxFQUFFLENBSjJDO0FBS3BELElBQUEsUUFBUSxFQUFFLEdBTDBDO0FBTXBELElBQUEsT0FBTyxFQUFFO0FBTjJDLEdBQXhEO0FBU0EsRUFBQSxZQUFZLEdBQUcsTUFBZixDQUFzQixvQkFBdEIsRUFBNEM7QUFDeEMsSUFBQSxRQUFRLEVBQUUsSUFEOEI7QUFFeEMsSUFBQSxNQUFNLEVBQUUsT0FGZ0M7QUFHeEMsSUFBQSxRQUFRLEVBQUUsT0FIOEI7QUFJeEMsSUFBQSxNQUFNLEVBQUUsZ0NBSmdDO0FBS3hDLElBQUEsT0FBTyxFQUFFLENBTCtC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InNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbml0UXVhbnRpdHlCdXR0b25zKCk7XHJcbmluaXRBY2NvcmRpb24oKTtcclxuXHJcbmlmICgkKGRvY3VtZW50LmJvZHkpLmhhc0NsYXNzKCd0ZW1wbGF0ZS10ZW1wbGF0ZS1ob21lJykpIHtcclxuICAgIGluaXRTdGlja3lIZWFkZXIoKTtcclxuICAgIGluaXRTY3JvbGxSZXZlYWwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdFNjcm9sbFJldmVhbCgpIHtcclxuICAgIFNjcm9sbFJldmVhbCgpLnJldmVhbCgnLmFwcC1oZXJvIC5jb2w6Zmlyc3QtY2hpbGQgPiAqJywge1xyXG4gICAgICAgIGRlbGF5OiA0MDAsXHJcbiAgICAgICAgZHVyYXRpb246IDE0MDAsXHJcbiAgICAgICAgc2NhbGU6IDAuOCxcclxuICAgICAgICBvcGFjaXR5OiAwLFxyXG4gICAgICAgIGludGVydmFsOiAyMDAsXHJcbiAgICAgICAgY2xlYW51cDogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG4gICAgU2Nyb2xsUmV2ZWFsKCkucmV2ZWFsKCcuYXBwLWhlcm8gLmNvbCBpbWcnLCB7XHJcbiAgICAgICAgZHVyYXRpb246IDE0MDAsXHJcbiAgICAgICAgb3JpZ2luOiAncmlnaHQnLFxyXG4gICAgICAgIGRpc3RhbmNlOiAnMTAwcHgnLFxyXG4gICAgICAgIGVhc2luZzogJ2N1YmljLWJlemllcigwLjQsIDAuMiwgMC4yLCAxKScsXHJcbiAgICAgICAgb3BhY2l0eTogMCxcclxuICAgICAgICBjbGVhbnVwOiB0cnVlXHJcbiAgICB9KTtcclxuXHJcbiAgICBTY3JvbGxSZXZlYWwoKS5yZXZlYWwoJy5ob21lLWZlYXR1cmUnLCB7XHJcbiAgICAgICAgZHVyYXRpb246IDE0MDAsXHJcbiAgICAgICAgZGlzdGFuY2U6ICc4MHB4JyxcclxuICAgICAgICBvcGFjaXR5OiAwLFxyXG4gICAgICAgIGludGVydmFsOiAyMDAsXHJcbiAgICAgICAgdmlld0ZhY3RvcjogMC41LFxyXG4gICAgICAgIGNsZWFudXA6IHRydWVcclxuICAgIH0pO1xyXG5cclxuICAgIFNjcm9sbFJldmVhbCgpLnJldmVhbCgnLmJveC1pbWcnLCB7XHJcbiAgICAgICAgZHVyYXRpb246IDE0MDAsXHJcbiAgICAgICAgZGlzdGFuY2U6ICcxMDBweCcsXHJcbiAgICAgICAgb3JpZ2luOiAncmlnaHQnLFxyXG4gICAgICAgIG9wYWNpdHk6IDAsXHJcbiAgICAgICAgaW50ZXJ2YWw6IDIwMCxcclxuICAgICAgICB2aWV3RmFjdG9yOiAwLjUsXHJcbiAgICAgICAgY2xlYW51cDogdHJ1ZVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRBY2NvcmRpb24oKSB7XHJcbiAgICAkKCcuYWNjb3JkaW9uLXRpdGxlJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyICR0aXRsZSA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyICRpdGVtID0gJHRpdGxlLnBhcmVudCgnLmFjY29yZGlvbi1pdGVtJyk7XHJcbiAgICAgICAgdmFyICRjb250ZW50ID0gJHRpdGxlLm5leHQoJy5hY2NvcmRpb24tY29udGVudCcpO1xyXG5cclxuICAgICAgICAkaXRlbS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJGNvbnRlbnQuc2xpZGVUb2dnbGUoMzAwKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0UXVhbnRpdHlCdXR0b25zKCkge1xyXG4gICAgJCgnLndvb2NvbW1lcmNlJykub24oJ2NsaWNrJywgJy5xdHktYnRuJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciAkYnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgJGlucHV0ID0gJGJ0bi5zaWJsaW5ncygnaW5wdXQnKTtcclxuICAgICAgICB2YXIgdmFsdWUgPSAkaW5wdXQudmFsKCk7XHJcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9ICRidG4uaGFzQ2xhc3MoJ3F0eS1kb3duJykgPyAnRG93bicgOiAnVXAnO1xyXG5cclxuICAgICAgICAkaW5wdXRbMF1bJ3N0ZXAnICsgZGlyZWN0aW9uXSgpOyAvLyBpbnZva2Ugc3RlcFVwIG9yIHN0ZXBEb3duXHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gJGlucHV0LnZhbCgpKSB7XHJcbiAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKCdjaGFuZ2UnKTsgLy8gdHJpZ2dlciBjaGFuZ2UgZXZlbnQgb25seSB3aGVuIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRTdGlja3lIZWFkZXIoKSB7XHJcbiAgICB2YXIgJHdpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciAkaGVhZGVyID0gJCgnLnNpdGUtaGVhZGVyJyk7XHJcbiAgICB2YXIgc3RpY2t5ID0gZmFsc2U7XHJcblxyXG4gICAgJChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFkZENsYXNzKCdzaCcpO1xyXG5cclxuICAgICR3aW5kb3cuc2Nyb2xsKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgcGFnZVkgPSAkd2luZG93LnNjcm9sbFRvcCgpO1xyXG5cclxuICAgICAgICBpZiAoIXN0aWNreSAmJiBwYWdlWSA+IDkwMCkge1xyXG4gICAgICAgICAgICBzdGlja3kgPSB0cnVlO1xyXG4gICAgICAgICAgICAkaGVhZGVyLmFkZENsYXNzKCdzdGlja3knKTtcclxuICAgICAgICB9IGVsc2UgaWYoc3RpY2t5ICYmIHBhZ2VZIDwgMjgpIHtcclxuICAgICAgICAgICAgc3RpY2t5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRoZWFkZXIucmVtb3ZlQ2xhc3MoJ3N0aWNreScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbiIsImltcG9ydCBQb2ludCBmcm9tICcuL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0IEhleCBmcm9tICcuL2dlb21ldHJ5L0hleCc7XHJcbmltcG9ydCBHcmlkIGZyb20gJy4vZGVzaWduZXIvR3JpZCc7XHJcbmltcG9ydCBUaWxlIGZyb20gJy4vZGVzaWduZXIvVGlsZSc7XHJcblxyXG5jb25zdCByb290RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNpZ25lcicpO1xyXG5sZXQgYWN0aXZlRWxlbWVudCA9IG51bGw7XHJcblxyXG5pZiAocm9vdEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IHN2Z1Jvb3RFbGVtZW50ID0gcm9vdEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N2ZycpWzBdO1xyXG4gICAgY29uc3QgZ3JpZCA9IG5ldyBHcmlkKHJvb3RFbGVtZW50LCAyMDAsIG5ldyBQb2ludCgzOCwgMzgpKTtcclxuXHJcbiAgICAkKCcuY29sb3JzIGxpJykuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGNvbnN0IGhleCA9ICQodGhpcykuZGF0YSgnaGV4Jyk7XHJcbiAgICAgICAgZ3JpZC5hY3RpdmVUaWxlLmZpbGwoaGV4KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJyN0aWxlLWRlbGV0ZS1idG4nKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZ3JpZC5hY3RpdmVUaWxlLmNsZWFyKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgaXNUaWx0ID0gZmFsc2U7XHJcbiAgICAkKCcjM2QnKS5jbGljaygoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRlbGVtID0gJCgnLnRpbGUtZ3JpZCcpO1xyXG4gICAgICAgIGlmIChpc1RpbHQpIHtcclxuICAgICAgICAgICAgJGVsZW0udGlsdC5kZXN0cm95LmNhbGwoJGVsZW0pO1xyXG4gICAgICAgICAgICBpc1RpbHQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkZWxlbS50aWx0KHtcclxuICAgICAgICAgICAgICAgIHJlc2V0OiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaXNUaWx0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI3JlbGF4ZWQnKS5jbGljaygoZSkgPT4ge1xyXG4gICAgICAgICQoc3ZnUm9vdEVsZW1lbnQpLnRvZ2dsZUNsYXNzKCd0aWxlcy0tcmVsYXhlZCcpXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjb3JpZW50YXRpb24nKS5jbGljaygoZSkgPT4ge1xyXG4gICAgICAgIGdyaWQub3JpZW50YXRpb24gPSAoZ3JpZC5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24ucG9pbnR5KVxyXG4gICAgICAgICAgICA/IE9yaWVudGF0aW9uLmZsYXRcclxuICAgICAgICAgICAgOiBPcmllbnRhdGlvbi5wb2ludHk7XHJcbiAgICAgICAgZ3JpZC50aWxlcy5mb3JFYWNoKHQgPT4ge1xyXG4gICAgICAgICAgICB0LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB0LmRyYXcoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBncmlkLnRvdWNoKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBncmlkLmFkZFRpbGUoW1xyXG4gICAgICAgIG5ldyBUaWxlKG5ldyBIZXgoMCwgMCksIGdyaWQpLFxyXG4gICAgXSk7XHJcblxyXG4gICAgZ3JpZC5kcmF3KCk7XHJcbn1cclxuIiwiaW1wb3J0IFRpbGUgZnJvbSAnLi9UaWxlJztcclxuaW1wb3J0IFBvaW50IGZyb20gJy4uL2dlb21ldHJ5L1BvaW50JztcclxuaW1wb3J0IEhleCBmcm9tICcuLi9nZW9tZXRyeS9IZXgnO1xyXG5pbXBvcnQgT3JpZW50YXRpb24gZnJvbSAnLi4vZ2VvbWV0cnkvT3JpZW50YXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEF4aWFsIGhleGFnb24gZ3JpZCB1c2luZyBTVkcuXHJcbiAqXHJcbiAqIEBzZWUgaHR0cHM6Ly93d3cucmVkYmxvYmdhbWVzLmNvbS9ncmlkcy9oZXhhZ29uc1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3Iocm9vdEVsZW1lbnQsIHdpZHRoLCBzaXplKSB7XHJcbiAgICAgICAgdGhpcy5zdmcgPSByb290RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcclxuICAgICAgICB0aGlzLnRpbGVzID0gW107XHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0ID0ge3gxOiAwLCB5MTogMCwgeDI6IHdpZHRoLCB5Mjogd2lkdGh9O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBQb2ludCh0aGlzLndpZHRoIC8gMiwgdGhpcy53aWR0aCAvIDIpO1xyXG4gICAgICAgIHRoaXMub3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5wb2ludHk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVUaWxlID0gbnVsbDtcclxuICAgICAgICB0aGlzLiRjb25maWcgPSAkKHJvb3RFbGVtZW50KS5maW5kKCcudGlsZS1jb25maWcnKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRUaWxlKHRpbGUpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aWxlKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbGVzLnB1c2goLi4udGlsZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50aWxlcy5wdXNoKHRpbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVUaWxlKGhleCkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy50aWxlcy5maW5kSW5kZXgodCA9PlxyXG4gICAgICAgICAgICAodC5oZXgucSA9PT0gaGV4LnEgJiYgdC5oZXguciA9PT0gaGV4LnIpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHRoaXMudGlsZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy53aWR0aCk7XHJcbiAgICAgICAgdGhpcy5zdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgYCR7dGhpcy52aWV3cG9ydC54MX0gJHt0aGlzLnZpZXdwb3J0LnkxfSAke3RoaXMudmlld3BvcnQueDJ9ICR7dGhpcy52aWV3cG9ydC55Mn1gKTtcclxuICAgICAgICB0aGlzLnRpbGVzLmZvckVhY2godGlsZSA9PiB7XHJcbiAgICAgICAgICAgIHRpbGUuZHJhdygpO1xyXG4gICAgICAgICAgICB0aWxlLmZpbGwoJyMyMjInKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3TmVpZ2hib3JzKHRpbGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b3VjaCgpIHtcclxuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmdldEJvdW5kYXJpZXMoKTtcclxuICAgICAgICBjb25zdCB0aWxlU2l6ZSA9IHRoaXMuZ2V0VGlsZVNpemUoKTtcclxuXHJcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHtcclxuICAgICAgICAgICAgeDE6IGJvdW5kcy5taW5YIC0gKHRpbGVTaXplLndpZHRoIC8gMiksXHJcbiAgICAgICAgICAgIHkxOiBib3VuZHMubWluWSAtICh0aWxlU2l6ZS5oZWlnaHQgLyAyKSxcclxuICAgICAgICAgICAgeDI6IGJvdW5kcy5tYXhYICsgKHRpbGVTaXplLndpZHRoIC8gMiksXHJcbiAgICAgICAgICAgIHkyOiBib3VuZHMubWF4WSArICh0aWxlU2l6ZS5oZWlnaHQgLyAyKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRpbGVTaXplKTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmFicyh0aGlzLnZpZXdwb3J0LngxKSArIHRoaXMudmlld3BvcnQueDI7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5hYnModGhpcy52aWV3cG9ydC55MSkgKyB0aGlzLnZpZXdwb3J0LnkyO1xyXG4gICAgICAgIGNvbnN0IHZpZXdCb3ggPSBgJHt0aGlzLnZpZXdwb3J0LngxfSAke3RoaXMudmlld3BvcnQueTF9ICR7d2lkdGh9ICR7aGVpZ2h0fWA7XHJcblxyXG4gICAgICAgIHRoaXMuc3ZnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5zdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgdmlld0JveCk7XHJcbiAgICAgICAgLy8gdGhpcy50aWxlcy5mb3JFYWNoKHQgPT4gdC51cGRhdGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd05laWdoYm9ycyh0aWxlKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbmVpZ2hib3IgPSBIZXgubmVpZ2hib3IodGlsZS5oZXgsIGkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1RpbGUobmVpZ2hib3IpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBob25leWNvbWIgPSBuZXcgVGlsZShuZWlnaGJvciwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICBob25leWNvbWIuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUaWxlKGhvbmV5Y29tYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGlsZShoZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aWxlcy5maW5kKGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0LmhleC5xID09PSBoZXgucVxyXG4gICAgICAgICAgICAgICAgJiYgdC5oZXguciA9PT0gaGV4LnI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGlsZUluZGV4KHRpbGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aWxlcy5maW5kSW5kZXgoZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHQuaGV4LnEgPT09IHRpbGUuaGV4LnFcclxuICAgICAgICAgICAgICAgICYmIHQuaGV4LnIgPT09IHRpbGUuaGV4LnI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGlsZXMoaGV4ZXMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aWxlcy5tYXAodCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhleCA9IGhleGVzLmZpbmQoaCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5oZXgucSA9PT0gaC5xXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgdC5oZXguciA9PT0gaC5yO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBoZXggPyB0IDogbnVsbDtcclxuICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgICB9XHJcblxyXG4gICAgaGFzVGlsZShoZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlKGhleCkgIT09IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBoZXhUb1BpeGVsKGgpIHtcclxuICAgICAgICBjb25zdCBNID0gdGhpcy5vcmllbnRhdGlvbjtcclxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5zaXplO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMub3JpZ2luO1xyXG4gICAgICAgIGNvbnN0IHggPSAoTS5mMCAqIGgucSArIE0uZjEgKiBoLnIpICogc2l6ZS54O1xyXG4gICAgICAgIGNvbnN0IHkgPSAoTS5mMiAqIGgucSArIE0uZjMgKiBoLnIpICogc2l6ZS55O1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHggKyBvcmlnaW4ueCwgeSArIG9yaWdpbi55KTtcclxuICAgIH1cclxuXHJcbiAgICBwaXhlbFRvSGV4KHApIHtcclxuICAgICAgICBjb25zdCBNID0gdGhpcy5vcmllbnRhdGlvbjtcclxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5zaXplO1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMub3JpZ2luO1xyXG4gICAgICAgIGNvbnN0IHB0ID0gbmV3IFBvaW50KChwLnggLSBvcmlnaW4ueCkgLyBzaXplLngsIChwLnkgLSBvcmlnaW4ueSkgLyBzaXplLnkpO1xyXG4gICAgICAgIGNvbnN0IHEgPSBNLmIwICogcHQueCArIE0uYjEgKiBwdC55O1xyXG4gICAgICAgIGNvbnN0IHIgPSBNLmIyICogcHQueCArIE0uYjMgKiBwdC55O1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEhleChxLCByKTtcclxuICAgIH1cclxuXHJcbiAgICBoZXhDb3JuZXJzKGgpIHtcclxuICAgICAgICBjb25zdCBjb3JuZXJzID0gW107XHJcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5oZXhUb1BpeGVsKGgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmhleENvcm5lck9mZnNldChpKTtcclxuICAgICAgICAgICAgY29uc3QgY29ybmVyID0gbmV3IFBvaW50KGNlbnRlci54ICsgb2Zmc2V0LngsIGNlbnRlci55ICsgb2Zmc2V0LnkpO1xyXG4gICAgICAgICAgICBjb3JuZXJzLnB1c2goY29ybmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb3JuZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIGhleENvcm5lck9mZnNldChjb3JuZXIpIHtcclxuICAgICAgICBjb25zdCBNID0gdGhpcy5vcmllbnRhdGlvbjtcclxuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5zaXplO1xyXG4gICAgICAgIGNvbnN0IGFuZ2xlID0gMi4wICogTWF0aC5QSSAqIChNLnN0YXJ0X2FuZ2xlIC0gY29ybmVyKSAvIDYuMDtcclxuICAgICAgICBjb25zdCB4ID0gc2l6ZS54ICogTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgICAgIGNvbnN0IHkgPSBzaXplLnkgKiBNYXRoLnNpbihhbmdsZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Qm91bmRhcmllcygpIHtcclxuICAgICAgICBsZXQgbWluWCA9IDEwMDAsIG1pblkgPSAxMDAwLCBtYXhYID0gLTEwMDAsIG1heFkgPSAtMTAwMDtcclxuXHJcbiAgICAgICAgdGhpcy50aWxlcy5mb3JFYWNoKHQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwID0gdC5jZW50ZXI7XHJcblxyXG4gICAgICAgICAgICBpZiAocC54IDw9IG1pblgpIG1pblggPSBwLng7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHAueCA+IG1heFgpIG1heFggPSBwLng7XHJcblxyXG4gICAgICAgICAgICBpZiAocC55IDw9IG1pblkpIG1pblkgPSBwLnk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHAueSA+IG1heFkpIG1heFkgPSBwLnk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IG1pblgsIG1pblksIG1heFgsIG1heFkgfTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUaWxlU2l6ZSgpIHtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5zaXplLnkgKiAyO1xyXG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGguc3FydCgzKSAvIDIgKiBoZWlnaHQ7XHJcbiAgICAgICAgbGV0IHYgPSB3aWR0aDtcclxuICAgICAgICBsZXQgaCA9IGhlaWdodCAqIDAuNzU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5mbGF0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IC8vIHJldmVyc2VkIGRpbWVuc2lvbnNcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHdpZHRoLFxyXG4gICAgICAgICAgICAgICAgdjogaCxcclxuICAgICAgICAgICAgICAgIGg6IHZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgdixcclxuICAgICAgICAgICAgaFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0VGlsZSh0aWxlKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVUaWxlID0gdGlsZTtcclxuXHJcbiAgICAgICAgaWYgKHRpbGUuY29sb3IpIHtcclxuICAgICAgICAgICAgdGhpcy4kY29uZmlnLmNzcyh7XHJcbiAgICAgICAgICAgICAgICB0b3A6IGAke3RpbGUuY2VudGVyLnl9cHhgLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogYCR7dGlsZS5jZW50ZXIueH1weGBcclxuICAgICAgICAgICAgfSkuZmFkZUluKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGlsZS5maWxsKCcjMjIyJyk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdOZWlnaGJvcnModGlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudG91Y2goKTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IEhleCBmcm9tICcuLi9nZW9tZXRyeS9IZXgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaGV4LCBncmlkKSB7XHJcbiAgICAgICAgdGhpcy5oZXggPSBoZXg7XHJcbiAgICAgICAgdGhpcy5ncmlkID0gZ3JpZDtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2VudGVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2luaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdCgpIHtcclxuICAgICAgICBjb25zdCBlbGVtID0gVGlsZS5jcmVhdGVFbGVtZW50KCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmdyaWQuc3ZnLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RpbGVzJylbMF0uYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSB7XHJcbiAgICAgICAgICAgICdjbGljayc6IHRoaXMub25DbGljay5iaW5kKHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoa2V5LCB0aGlzLmxpc3RlbmVyc1trZXldKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jZW50ZXIgPSB0aGlzLmdyaWQuaGV4VG9QaXhlbCh0aGlzLmhleCk7XHJcbiAgICAgICAgdGhpcy5wb2ludHMgPSB0aGlzLmdyaWQuaGV4Q29ybmVycyh0aGlzLmhleCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihrZXksIHRoaXMubGlzdGVuZXJzW2tleV0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0tb3JpZ2luJywgYCR7dGhpcy5jZW50ZXIueH1weCAke3RoaXMuY2VudGVyLnl9cHhgKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgncG9pbnRzJywgdGhpcy5wb2ludHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbGwoaGV4KSB7XHJcbiAgICAgICAgY29uc3QgJGVsZW0gPSAkKHRoaXMuZWxlbWVudCk7XHJcbiAgICAgICAgY29uc3QgJHNoYXBlID0gJGVsZW0uZmluZCgnLnRpbGUtc2hhcGUnKTtcclxuICAgICAgICAkZWxlbS5yZW1vdmVDbGFzcygndGlsZS0tY2xlYXInKTtcclxuICAgICAgICAkZWxlbS5hZGRDbGFzcygndGlsZS0tZmlsbCcpO1xyXG4gICAgICAgICRzaGFwZS5hdHRyKCdmaWxsJywgaGV4KTtcclxuICAgICAgICAkc2hhcGUuYXR0cignc3Ryb2tlJywgaGV4KTtcclxuICAgICAgICB0aGlzLmNvbG9yID0gaGV4O1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIGNvbnN0ICRlbGVtID0gJCh0aGlzLmVsZW1lbnQpO1xyXG4gICAgICAgICRlbGVtLnJlbW92ZUNsYXNzKCd0aWxlLS1maWxsJyk7XHJcbiAgICAgICAgJGVsZW0uYWRkQ2xhc3MoJ3RpbGUtLWNsZWFyJyk7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5nZXRUcmFpbGluZ05laWdoYm9ycygpLmZvckVhY2godCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ncmlkLmdldFRpbGVJbmRleCh0KTtcclxuICAgICAgICAgICAgdGhpcy5ncmlkLnRpbGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHQuZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ3JpZC50b3VjaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRyYWlsaW5nTmVpZ2hib3JzKCkge1xyXG4gICAgICAgIGNvbnN0IHRyYWlsaW5nID0gW107XHJcbiAgICAgICAgY29uc3QgbmVpZ2hib3JzID0gdGhpcy5ncmlkLmdldFRpbGVzKFxyXG4gICAgICAgICAgICBIZXgubmVpZ2hib3JzKHRoaXMuaGV4KVxyXG4gICAgICAgICkuZmlsdGVyKHQgPT4gIXQuY29sb3IpO1xyXG5cclxuICAgICAgICBuZWlnaGJvcnMuZm9yRWFjaCh0aWxlID0+IHtcclxuICAgICAgICAgICAgLy8gZ2V0IHRoZSBzZWNvbmQgcm93IG9mIGVtcHR5IG5laWdoYm9yc1xyXG4gICAgICAgICAgICBjb25zdCBzZWNvbmROZWlnaGJvcnMgPSB0aGlzLmdyaWQuZ2V0VGlsZXMoXHJcbiAgICAgICAgICAgICAgICBIZXgubmVpZ2hib3JzKHRpbGUuaGV4KVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaGFzQWN0aXZlTmVpZ2hib3IgPSBzZWNvbmROZWlnaGJvcnMuc29tZSh0ID0+IHQuY29sb3IpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFoYXNBY3RpdmVOZWlnaGJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2hhcyBubyBhY3RpdmUnLCB0aWxlKTtcclxuICAgICAgICAgICAgICAgIHRyYWlsaW5nLnB1c2godGlsZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJhaWxpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbGljayhldmVudCkge1xyXG4gICAgICAgIHRoaXMuZ3JpZC5zZWxlY3RUaWxlKHRoaXMpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuVGlsZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgJ2cnKTtcclxuICAgIGNvbnN0IHBvbHlnb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsICdwb2x5Z29uJyk7XHJcbiAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsICdwb2x5Z29uJyk7XHJcbiAgICBncm91cC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpbGUgdGlsZS0tY2xlYXInKTtcclxuICAgIGdyb3VwLmFwcGVuZENoaWxkKHBvbHlnb24pO1xyXG4gICAgZ3JvdXAuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgIHBvbHlnb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aWxlLXNoYXBlJyk7XHJcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aWxlLWltZycpO1xyXG4gICAgcmV0dXJuIGdyb3VwO1xyXG59O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBIZXgge1xyXG4gICAgY29uc3RydWN0b3IocSwgcikge1xyXG4gICAgICAgIHRoaXMucSA9IHE7XHJcbiAgICAgICAgdGhpcy5yID0gcjtcclxuICAgICAgICB0aGlzLnMgPSAtcSAtIHI7XHJcbiAgICB9XHJcbn1cclxuXHJcbkhleC5EaXJlY3Rpb25zID0gW1xyXG4gICAgbmV3IEhleCgxLCAtMSksIG5ldyBIZXgoMSwgMCksIG5ldyBIZXgoMCwgMSksXHJcbiAgICBuZXcgSGV4KC0xLCAxKSwgbmV3IEhleCgtMSwgMCksIG5ldyBIZXgoMCwgLTEpXHJcbl07XHJcblxyXG4vKipcclxuICogU3VtIHVwIHR3byBoZXhlcy5cclxuICpcclxuICogQHBhcmFtIHtIZXh9IGFcclxuICogQHBhcmFtIHtIZXh9IGJcclxuICogQHJldHVybnMge0hleH1cclxuICovXHJcbkhleC5hZGQgPSBmdW5jdGlvbihhLCBiKSB7XHJcbiAgICByZXR1cm4gbmV3IEhleChhLnEgKyBiLnEsIGEuciArIGIucik7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBuZWlnaGJvcmluZyBoZXguXHJcbiAqXHJcbiAqIEBwYXJhbSB7SGV4fSBoZXhcclxuICogQHBhcmFtIHtudW1iZXJ9IGRpclxyXG4gKiBAcmV0dXJucyB7SGV4fVxyXG4gKi9cclxuSGV4Lm5laWdoYm9yID0gZnVuY3Rpb24oaGV4LCBkaXIpIHtcclxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IEhleC5EaXJlY3Rpb25zW2Rpcl07XHJcbiAgICByZXR1cm4gdGhpcy5hZGQoaGV4LCBkaXJlY3Rpb24pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldCBhbGwgbmVpZ2hib3JpbmcgaGV4ZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SGV4fSBoZXhcclxuICogQHJldHVybnMge0hleFtdfVxyXG4gKi9cclxuSGV4Lm5laWdoYm9ycyA9IGZ1bmN0aW9uKGhleCkge1xyXG4gICAgY29uc3QgbmVpZ2hib3JzID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuICAgICAgICBuZWlnaGJvcnMucHVzaChIZXgubmVpZ2hib3IoaGV4LCBpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5laWdoYm9ycztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSb3VuZCB0byB0aGUgbmVhcmVzdCBoZXggcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7SGV4fSBoZXhcclxuICogQHJldHVybnMge0hleH1cclxuICovXHJcbkhleC5yb3VuZCA9IGZ1bmN0aW9uKGhleCkge1xyXG4gICAgbGV0IHJYID0gTWF0aC5yb3VuZChoZXgucSk7XHJcbiAgICBsZXQgclkgPSBNYXRoLnJvdW5kKGhleC5yKTtcclxuICAgIGNvbnN0IHJaID0gTWF0aC5yb3VuZChoZXgucyk7XHJcblxyXG4gICAgY29uc3QgeERpZmYgPSBNYXRoLmFicyhyWCAtIGhleC5xKTtcclxuICAgIGNvbnN0IHlEaWZmID0gTWF0aC5hYnMoclkgLSBoZXgucik7XHJcbiAgICBjb25zdCB6RGlmZiA9IE1hdGguYWJzKHJaIC0gaGV4LnMpO1xyXG5cclxuICAgIGlmICh4RGlmZiA+IHlEaWZmICYmIHhEaWZmID4gekRpZmYpIHtcclxuICAgICAgICByWCA9IC1yWSAtIHJaO1xyXG4gICAgfSBlbHNlIGlmICh5RGlmZiA+IHpEaWZmKSB7XHJcbiAgICAgICAgclkgPSAtclggLSByWjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IEhleChyWCwgclkpO1xyXG59O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBPcmllbnRhdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihmMCwgZjEsIGYyLCBmMywgYjAsIGIxLCBiMiwgYjMsIHN0YXJ0X2FuZ2xlKSB7XHJcbiAgICAgICAgdGhpcy5mMCA9IGYwO1xyXG4gICAgICAgIHRoaXMuZjEgPSBmMTtcclxuICAgICAgICB0aGlzLmYyID0gZjI7XHJcbiAgICAgICAgdGhpcy5mMyA9IGYzO1xyXG4gICAgICAgIHRoaXMuYjAgPSBiMDtcclxuICAgICAgICB0aGlzLmIxID0gYjE7XHJcbiAgICAgICAgdGhpcy5iMiA9IGIyO1xyXG4gICAgICAgIHRoaXMuYjMgPSBiMztcclxuICAgICAgICB0aGlzLnN0YXJ0X2FuZ2xlID0gc3RhcnRfYW5nbGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbk9yaWVudGF0aW9uLnBvaW50eSA9IG5ldyBPcmllbnRhdGlvbihNYXRoLnNxcnQoMy4wKSwgTWF0aC5zcXJ0KDMuMCkgLyAyLjAsIDAuMCwgMy4wIC8gMi4wLCBNYXRoLnNxcnQoMy4wKSAvIDMuMCwgLTEuMCAvIDMuMCwgMC4wLCAyLjAgLyAzLjAsIDAuNSk7XHJcbk9yaWVudGF0aW9uLmZsYXQgPSBuZXcgT3JpZW50YXRpb24oMy4wIC8gMi4wLCAwLjAsIE1hdGguc3FydCgzLjApIC8gMi4wLCBNYXRoLnNxcnQoMy4wKSwgMi4wIC8gMy4wLCAwLjAsIC0xLjAgLyAzLjAsIE1hdGguc3FydCgzLjApIC8gMy4wLCAwLjApO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG4gICAgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMueH0sJHt0aGlzLnl9YDtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHJpZXZlIHRoZSBwb2ludCBpbiB0aGUgbWlkZGxlIG9mIHR3byBwb2ludHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UG9pbnR9IGFcclxuICogQHBhcmFtIHtQb2ludH0gYlxyXG4gKi9cclxuUG9pbnQubWlkID0gZnVuY3Rpb24oYSwgYikge1xyXG4gICAgcmV0dXJuIG5ldyBQb2ludChcclxuICAgICAgICAoYS54ICsgYi54KSAvIDIsXHJcbiAgICAgICAgKGEueSArIGIueSkgLyAyXHJcbiAgICApO1xyXG59O1xyXG4iLCJpbXBvcnQgJy4vYXBwJztcclxuaW1wb3J0ICcuL2Rlc2lnbmVyJztcclxuIl19\n"]}