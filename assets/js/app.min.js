"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Point(t,e){this.x=t,this.y=e,this.mid=function(t,e){return new Point((t.x+e.x)/2,(t.y+e.y)/2)},this.toString=function(){return"".concat(this.x,",").concat(this.y)}}!function(o,t,e){var i,n,r;o(".woocommerce").on("click",".qty-btn",function(t){var e=o(this),i=e.siblings("input"),n=i.val(),r=e.hasClass("qty-down")?"Down":"Up";i[0]["step"+r](),n!==i.val()&&i.trigger("change"),t.preventDefault()}),o(".accordion-title").click(function(){var t=o(this),e=t.parent(".accordion-item"),i=t.next(".accordion-content");e.toggleClass("active"),i.slideToggle(300)}),o(e.body).hasClass("template-template-home")&&(i=o(t),n=o(".site-header"),r=!1,o(e.documentElement).addClass("sh"),i.scroll(function(t){var e=i.scrollTop();!r&&900<e?(r=!0,n.addClass("sticky")):r&&e<28&&(r=!1,n.removeClass("sticky"))}),ScrollReveal().reveal(".app-hero .col:first-child > *",{delay:400,duration:1400,scale:.8,opacity:0,interval:200,cleanup:!0}),ScrollReveal().reveal(".app-hero .col img",{duration:1400,origin:"right",distance:"100px",easing:"cubic-bezier(0.4, 0.2, 0.2, 1)",opacity:0,cleanup:!0}),ScrollReveal().reveal(".home-feature",{duration:1400,distance:"80px",opacity:0,interval:200,viewFactor:.5,cleanup:!0}),ScrollReveal().reveal(".box-img",{duration:1400,distance:"100px",origin:"right",opacity:0,interval:200,viewFactor:.5,cleanup:!0}))}(jQuery,window,document);var directions=[new Hex(1,-1),new Hex(1,0),new Hex(0,1),new Hex(-1,1),new Hex(-1,0),new Hex(0,-1)];function Hex(t,e){this.q=t,this.r=e,this.s=-t-e,this.add=function(t,e){return new Hex(t.q+e.q,t.r+e.r)},this.neighbor=function(t,e){var i=directions[e];return this.add(t,i)},this.round=function(t){var e=Math.round(t.q),i=Math.round(t.r),n=Math.round(t.s),r=Math.abs(e-t.q),o=Math.abs(i-t.r),a=Math.abs(n-t.s);return o<r&&a<r?e=-i-n:a<o&&(i=-e-n),new Hex(e,i)}}var Orientation=function t(e,i,n,r,o,a,s,l,c){_classCallCheck(this,t),this.f0=e,this.f1=i,this.f2=n,this.f3=r,this.b0=o,this.b1=a,this.b2=s,this.b3=l,this.start_angle=c};Orientation.pointy=new Orientation(Math.sqrt(3),Math.sqrt(3)/2,0,1.5,Math.sqrt(3)/3,-1/3,0,2/3,.5),Orientation.flat=new Orientation(1.5,0,Math.sqrt(3)/2,Math.sqrt(3),2/3,0,-1/3,Math.sqrt(3)/3,0);var Grid=function(){function r(t,e,i){var n=this;_classCallCheck(this,r),this.svg=t,this.svg.setAttribute("viewBox","0 0 ".concat(e.x," ").concat(e.y)),this.tiles=[],this.origin=new Point(e.x/2,e.y/2),this.size=i,this.orientation=Orientation.pointy,setTimeout(function(){n.orientation=Orientation.flat,n.update()},3e3)}return _createClass(r,[{key:"addTile",value:function(t){var e;Array.isArray(t)?(e=this.tiles).push.apply(e,_toConsumableArray(t)):this.tiles.push(t)}},{key:"removeTile",value:function(e){var t=this.tiles.findIndex(function(t){return t.hex.q===e.q&&t.hex.r===e.r});t&&this.tiles.splice(t,1)}},{key:"hexToPixel",value:function(t){var e=this.orientation,i=this.size,n=this.origin,r=(e.f0*t.q+e.f1*t.r)*i.x,o=(e.f2*t.q+e.f3*t.r)*i.y;return new Point(r+n.x,o+n.y)}},{key:"pixelToHex",value:function(t){var e=this.orientation,i=this.size,n=this.origin,r=new Point((t.x-n.x)/i.x,(t.y-n.y)/i.y),o=e.b0*r.x+e.b1*r.y,a=e.b2*r.x+e.b3*r.y;return new Hex(o,a,-o-a)}},{key:"hexCornerOffset",value:function(t){var e=this.orientation,i=this.size,n=2*Math.PI*(e.start_angle-t)/6;return new Point(i.x*Math.cos(n),i.y*Math.sin(n))}},{key:"polygonCorners",value:function(t){for(var e=[],i=this.hexToPixel(t),n=0;n<6;n++){var r=this.hexCornerOffset(n);e.push(new Point(i.x+r.x,i.y+r.y))}return e}},{key:"update",value:function(){this.tiles.forEach(function(t){return t.update()})}}]),r}(),svgRootElement=document.getElementById("configurator"),grid=new Grid(svgRootElement,new Point(720,480),new Point(36,36)),Tile=function(){function a(t,e){_classCallCheck(this,a),this.hex=t,this.grid=e,this.center=this.grid.hexToPixel(t),this.element=null,this.color=null}return _createClass(a,[{key:"update",value:function(){var e=this.grid.polygonCorners(this.hex);this.element.childNodes.forEach(function(t){t.setAttribute("points",e)})}},{key:"create",value:function(t){var n=this,e=this.grid.polygonCorners(this.hex),i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("class","hex"),i.setAttribute("transform-origin",this.center.x+"px "+this.center.y+"px");var r=document.createElementNS("http://www.w3.org/2000/svg","polygon");if(r.setAttribute("class","hex-shape"),r.setAttribute("points",e.join(" ")),r.setAttribute("fill","transparent"),r.setAttribute("stroke","#CCC"),t){var o=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.setAttribute("class","hex-img"),o.setAttribute("points",e.join(" ")),o.setAttribute("fill","url(#fabric)"),r.setAttribute("fill",t),r.setAttribute("stroke-width",0),i.appendChild(o)}i.appendChild(r),this.color=t,this.element=this.grid.svg.appendChild(i),this.element.addEventListener("click",function(t){if(!n.color){n.element.getElementsByTagName("polygon")[0].setAttribute("fill","#099660");for(var e=function(t){var e=n.hex.neighbor(n.hex,t);if(!grid.tiles.some(function(t){return t.hex.q===e.q&&t.hex.r===e.r})){var i=new a(e,n.grid);i.create(),n.grid.addTile(i)}},i=0;i<6;i++)e(i)}})}}]),a}();grid.addTile([new Tile(new Hex(0,0),grid)]),console.log(grid.tiles),grid.tiles.forEach(function(n){n.create("#099660");for(var t=function(t){var e=n.hex.neighbor(n.hex,t);if(!grid.tiles.some(function(t){return t.hex.q===e.q&&t.hex.r===e.r})){var i=new Tile(e,grid);i.create(),grid.addTile(i)}},e=0;e<6;e++)t(e)});
//# sourceMappingURL=app.min.js.map
