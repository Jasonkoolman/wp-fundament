!function o(a,s,l){function c(t,e){if(!s[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return c(a[t][1][e]||e)},r,r.exports,o,a,s,l)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,i){"use strict";var n,r,o;$(".woocommerce").on("click",".qty-btn",function(e){var t=$(this),i=t.siblings("input"),n=i.val(),r=t.hasClass("qty-down")?"Down":"Up";i[0]["step"+r](),n!==i.val()&&i.trigger("change"),e.preventDefault()}),$(".accordion-title").click(function(){var e=$(this),t=e.parent(".accordion-item"),i=e.next(".accordion-content");t.toggleClass("active"),i.slideToggle(300)}),$(document.body).hasClass("template-template-home")&&(n=$(window),r=$(".site-header"),o=!1,$(document.documentElement).addClass("sh"),n.scroll(function(e){var t=n.scrollTop();!o&&900<t?(o=!0,r.addClass("sticky")):o&&t<28&&(o=!1,r.removeClass("sticky"))}),ScrollReveal().reveal(".app-hero .col:first-child > *",{delay:400,duration:1400,scale:.8,opacity:0,interval:200,cleanup:!0}),ScrollReveal().reveal(".app-hero .col img",{duration:1400,origin:"right",distance:"100px",easing:"cubic-bezier(0.4, 0.2, 0.2, 1)",opacity:0,cleanup:!0}),ScrollReveal().reveal(".home-feature",{duration:1400,distance:"80px",opacity:0,interval:200,viewFactor:.5,cleanup:!0}),ScrollReveal().reveal(".box-img",{duration:1400,distance:"100px",origin:"right",opacity:0,interval:200,viewFactor:.5,cleanup:!0}))},{}],2:[function(e,t,i){"use strict";var n=s(e("./geometry/Point")),r=s(e("./geometry/Hex")),o=s(e("./designer/Grid")),a=s(e("./designer/Tile"));function s(e){return e&&e.__esModule?e:{default:e}}var l=document.getElementById("designer");if(l){var c=l.getElementsByTagName("svg")[0],u=new o.default(l,200,new n.default(38,38));$(".colors li").click(function(e){var t=$(this).data("hex");u.activeTile.fill(t)}),$("#tile-delete-btn").click(function(e){u.activeTile.clear()});var h=!1;$("#3d").click(function(e){var t=$(".tile-grid");h=h?(t.tilt.destroy.call(t),!1):(t.tilt({reset:!1}),!0)}),$("#relaxed").click(function(e){$(c).toggleClass("tiles--relaxed")}),$("#orientation").click(function(e){u.orientation=u.orientation===Orientation.pointy?Orientation.flat:Orientation.pointy,u.tiles.forEach(function(e){e.update(),e.draw()}),u.touch()}),u.addTile([new a.default(new r.default(0,0),u)]),u.draw()}},{"./designer/Grid":3,"./designer/Tile":4,"./geometry/Hex":5,"./geometry/Point":7}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=n(e("./Tile")),s=n(e("../geometry/Point")),l=n(e("../geometry/Hex")),o=n(e("../geometry/Orientation"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function n(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.svg=e.querySelector("svg"),this.tiles=[],this.size=i,this.viewport={x1:0,y1:0,x2:t,y2:t},this.width=t,this.origin=new s.default(this.width/2,this.width/2),this.orientation=o.default.pointy,this.activeTile=null,this.$config=$(e).find(".tile-config")}return function(e,t,i){t&&c(e.prototype,t),i&&c(e,i)}(n,[{key:"addTile",value:function(e){var t;Array.isArray(e)?(t=this.tiles).push.apply(t,a(e)):this.tiles.push(e)}},{key:"removeTile",value:function(t){var e=this.tiles.findIndex(function(e){return e.hex.q===t.q&&e.hex.r===t.r});e&&this.tiles.splice(e,1)}},{key:"draw",value:function(){var t=this;this.svg.setAttribute("width",this.width),this.svg.setAttribute("viewBox","".concat(this.viewport.x1," ").concat(this.viewport.y1," ").concat(this.viewport.x2," ").concat(this.viewport.y2)),this.tiles.forEach(function(e){e.draw(),e.fill("#222"),t.drawNeighbors(e)})}},{key:"touch",value:function(){var e=this.getBoundaries(),t=this.getTileSize();this.viewport={x1:e.minX-t.width/2,y1:e.minY-t.height/2,x2:e.maxX+t.width/2,y2:e.maxY+t.height/2},console.log(t);var i=Math.abs(this.viewport.x1)+this.viewport.x2,n=Math.abs(this.viewport.y1)+this.viewport.y2,r="".concat(this.viewport.x1," ").concat(this.viewport.y1," ").concat(i," ").concat(n);this.svg.setAttribute("width",i),this.svg.setAttribute("viewBox",r)}},{key:"drawNeighbors",value:function(e){for(var t=0;t<6;t++){var i=l.default.neighbor(e.hex,t);if(!this.hasTile(i)){var n=new r.default(i,this);n.draw(),this.addTile(n)}}}},{key:"getTile",value:function(t){return this.tiles.find(function(e){return e.hex.q===t.q&&e.hex.r===t.r})}},{key:"getTileIndex",value:function(t){return this.tiles.findIndex(function(e){return e.hex.q===t.hex.q&&e.hex.r===t.hex.r})}},{key:"getTiles",value:function(e){return this.tiles.map(function(t){return e.find(function(e){return t.hex.q===e.q&&t.hex.r===e.r})?t:null}).filter(Boolean)}},{key:"hasTile",value:function(e){return void 0!==this.getTile(e)}},{key:"hexToPixel",value:function(e){var t=this.orientation,i=this.size,n=this.origin,r=(t.f0*e.q+t.f1*e.r)*i.x,o=(t.f2*e.q+t.f3*e.r)*i.y;return new s.default(r+n.x,o+n.y)}},{key:"pixelToHex",value:function(e){var t=this.orientation,i=this.size,n=this.origin,r=new s.default((e.x-n.x)/i.x,(e.y-n.y)/i.y),o=t.b0*r.x+t.b1*r.y,a=t.b2*r.x+t.b3*r.y;return new l.default(o,a)}},{key:"hexCorners",value:function(e){for(var t=[],i=this.hexToPixel(e),n=0;n<6;n++){var r=this.hexCornerOffset(n),o=new s.default(i.x+r.x,i.y+r.y);t.push(o)}return t}},{key:"hexCornerOffset",value:function(e){var t=this.orientation,i=this.size,n=2*Math.PI*(t.start_angle-e)/6,r=i.x*Math.cos(n),o=i.y*Math.sin(n);return new s.default(r,o)}},{key:"getBoundaries",value:function(){var i=1e3,n=1e3,r=-1e3,o=-1e3;return this.tiles.forEach(function(e){var t=e.center;t.x<=i?i=t.x:t.x>r&&(r=t.x),t.y<=n?n=t.y:t.y>o&&(o=t.y)}),{minX:i,minY:n,maxX:r,maxY:o}}},{key:"getTileSize",value:function(){var e=2*this.size.y,t=Math.sqrt(3)/2*e,i=t,n=.75*e;return this.orientation===o.default.flat?{width:e,height:t,v:n,h:i}:{width:t,height:e,v:i,h:n}}},{key:"selectTile",value:function(e){if((this.activeTile=e).color)this.$config.css({top:"".concat(e.center.y,"px"),left:"".concat(e.center.x,"px")}).fadeIn();else{e.fill("#222");for(var t=0;t<6;t++)this.drawNeighbors(e)}this.touch()}}]),n}();i.default=u},{"../geometry/Hex":5,"../geometry/Orientation":6,"../geometry/Point":7,"./Tile":4}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,r=(n=e("../geometry/Hex"))&&n.__esModule?n:{default:n};function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.hex=e,this.grid=t,this.element=null,this.center=null,this.points=[],this.color=null,this._init()}return function(e,t,i){t&&o(e.prototype,t),i&&o(e,i)}(i,[{key:"_init",value:function(){var t=this,e=i.createElement();this.update(),this.element=this.grid.svg.getElementsByClassName("tiles")[0].appendChild(e),this.listeners={click:this.onClick.bind(this)},Object.keys(this.listeners).forEach(function(e){t.element.addEventListener(e,t.listeners[e])})}},{key:"update",value:function(){this.center=this.grid.hexToPixel(this.hex),this.points=this.grid.hexCorners(this.hex)}},{key:"destroy",value:function(){var t=this;Object.keys(this.listeners).forEach(function(e){t.element.removeEventListener(e,t.listeners[e])}),this.element.parentNode.removeChild(this.element),this.element=null}},{key:"draw",value:function(){var t=this;this.element.setAttribute("transform-origin","".concat(this.center.x,"px ").concat(this.center.y,"px")),this.element.childNodes.forEach(function(e){e.setAttribute("points",t.points)})}},{key:"fill",value:function(e){var t=$(this.element),i=t.find(".tile-shape");t.removeClass("tile--clear"),t.addClass("tile--fill"),i.attr("fill",e),i.attr("stroke",e),this.color=e}},{key:"clear",value:function(){var i=this,e=$(this.element);e.removeClass("tile--fill"),e.addClass("tile--clear"),this.color=null,this.getTrailingNeighbors().forEach(function(e){var t=i.grid.getTileIndex(e);i.grid.tiles.splice(t,1),e.destroy()}),this.grid.touch()}},{key:"getTrailingNeighbors",value:function(){var t=this,i=[];return this.grid.getTiles(r.default.neighbors(this.hex)).filter(function(e){return!e.color}).forEach(function(e){t.grid.getTiles(r.default.neighbors(e.hex)).some(function(e){return e.color})||(console.log("has no active",e),i.push(e))}),i}},{key:"onClick",value:function(e){this.grid.selectTile(this)}}]),i}();(i.default=a).createElement=function(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"g"),i=document.createElementNS(e,"polygon"),n=document.createElementNS(e,"polygon");return t.setAttribute("class","tile tile--clear"),t.appendChild(i),t.appendChild(n),i.setAttribute("class","tile-shape"),n.setAttribute("class","tile-img"),t}},{"../geometry/Hex":5}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;function s(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.q=e,this.r=t,this.s=-e-t}(i.default=s).Directions=[new s(1,-1),new s(1,0),new s(0,1),new s(-1,1),new s(-1,0),new s(0,-1)],s.add=function(e,t){return new s(e.q+t.q,e.r+t.r)},s.neighbor=function(e,t){var i=s.Directions[t];return this.add(e,i)},s.neighbors=function(e){for(var t=[],i=0;i<6;i++)t.push(s.neighbor(e,i));return t},s.round=function(e){var t=Math.round(e.q),i=Math.round(e.r),n=Math.round(e.s),r=Math.abs(t-e.q),o=Math.abs(i-e.r),a=Math.abs(n-e.s);return o<r&&a<r?t=-i-n:a<o&&(i=-t-n),new s(t,i)}},{}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;function c(e,t,i,n,r,o,a,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.f0=e,this.f1=t,this.f2=i,this.f3=n,this.b0=r,this.b1=o,this.b2=a,this.b3=s,this.start_angle=l}(i.default=c).pointy=new c(Math.sqrt(3),Math.sqrt(3)/2,0,1.5,Math.sqrt(3)/3,-1/3,0,2/3,.5),c.flat=new c(1.5,0,Math.sqrt(3)/2,Math.sqrt(3),2/3,0,-1/3,Math.sqrt(3)/3,0)},{}],7:[function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.x=e,this.y=t}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(i,[{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y)}}]),i}();(i.default=r).mid=function(e,t){return new r((e.x+t.x)/2,(e.y+t.y)/2)}},{}],8:[function(e,t,i){"use strict";e("./app"),e("./designer")},{"./app":1,"./designer":2}]},{},[8]);
//# sourceMappingURL=app.min.js.map
